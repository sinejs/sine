!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.sine=e():t.sine=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e);var o=!0,r=Object.prototype.toString,u=Object.getPrototypeOf;function s(t,e,n){if(w(t)){for(var i=0;i<t.length;i++)if(e(t[i],i))return}else if(k(t)){for(var o in t)if((n||t.hasOwnProperty(o))&&e(t[o],o))return}else e(t,t)}function c(t,e){if(w(t)){for(var n=0;n<t.length;n++)if(e(n,t[n]))return!0}else{if(!k(t))return e(t,t);for(var i in t)if(t.hasOwnProperty(i)&&e(i,t[i]))return!0}}function a(){var t,e=!1,n=0,i=arguments[n];if(j(i)&&(e=i,n++,i=arguments[n]),arguments.length>n+1&&(t=arguments[n+1]),w(i)){var o=[];return i.forEach((function(n,r){(null==t||t(i,r,n))&&o.push(e?a(n):n)})),o}if(k(i)){var r=y(i);return s(i,(function(n,o){(null==t||t(i,o,n))&&(r[o]=e?a(n):n)})),r}return i}function l(){var t=!1,e=0,n=arguments[e];j(n)&&(t=n,n=arguments[++e]),t?Array.prototype.slice.call(arguments,e+1).forEach((function(t){p(n,t)})):Array.prototype.slice.call(arguments,e+1).forEach((function(t){h(n,t)}))}function f(){var t=!1,e=0,n={};return j(arguments[e])&&(t=arguments[e],e++),t?Array.prototype.slice.call(arguments,e).forEach((function(t){p(n,t)})):Array.prototype.slice.call(arguments,e).forEach((function(t){h(n,t)})),n}function h(t,e){s(e,(function(e,n){t[n]=e}))}function p(t,e){s(e,(function(e,n){null==t[n]?t[n]=e:k(t[n])&&k(e)?p(t[n],e):t[n]=e}))}function y(t){function e(){}return e.prototype=t,new e}function m(t,e){!function(t,e){var n=y(e.prototype);n.constructor=t,t.prototype=n}(t,e),t.super=function(){e.apply(this,arguments)}}function d(t){return x(t)?t.toLowerCase():t}function b(t){return x(t)?t.toUpperCase():t}function v(t){return void 0===t}function g(t){return void 0!==t}function w(t){return t instanceof Array}function k(t){return null!==t&&"object"===i(t)}function $(t){return null!==t&&"object"===i(t)&&!u(t)}function x(t){return"string"==typeof t}function O(t){return"number"==typeof t}function E(t){return"[object Date]"===r.call(t)}function C(t){return"function"==typeof t}function S(t){return"[object RegExp]"===r.call(t)}function j(t){return"boolean"==typeof t}function _(t){return"undefined"!=typeof FormData&&t instanceof FormData}function P(t,e){var n=t===e;return n||(w(t)&&w(e)?t.length===e.length&&(n=!c(t,(function(t,n){return!P(n,e[t])}))):k(t)&&k(e)&&u(t)===u(e)&&(n=!c(t,(function(t,n){return!P(n,e[t])})))),n}function T(t){o&&console.log(t)}function N(t,e){return t.some((function(t){return t===e}))}function A(t,e,n){return t.some((function(t){return t===e||n&&d(t)===d(e)}))}function D(t,e,n){if(!t)return!1;for(var i,o=!0,r=e.split("."),u=t;o&&r.length>0;)i=r.shift(),o=!1,s(u,(function(t,e){return(o=e===i||n&&d(e)===d(i))&&(u=t),o}),!0);return o}function I(t,e,n){if(!t)return null;for(var i,o=!0,r=e.split("."),u=t;o&&r.length>0;)i=r.shift(),o=!1,s(u,(function(t,e){return(o=e===i||n&&d(e)===d(i))&&(u=t),o}),!0);return o?u:null}function M(t,e,n,i){if(t){for(var o,r=!0,u=e.split("."),c=t;r&&u.length>0;)o=u.shift(),0===u.length?c[o]=n:(r=!1,s(c,(function(t,e){return(r=e===o||i&&d(e)===d(o))&&(c=t),r}),!0));if(!r)throw new Error(e+": Can not set property of undefined")}}function V(){return Array.prototype.concat.apply([],arguments)}function R(t,e){var n=function(t){return null==e?t:e(t)};return t.sort((function(t,e){return n(t)<n(e)?-1:n(t)>n(e)?1:0}))}function L(t,e){var n=function(t){return null==e?t:e(t)};return t.sort((function(t,e){return n(t)<n(e)?1:n(t)>n(e)?-1:0}))}function F(t){var e=parseFloat(t);return isNaN(e)?t:e}function U(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function q(t){return Array.prototype.slice.call(t.childNodes,0)}function H(t){q(t).forEach((function(e){t.removeChild(e)}))}function W(t,e){var n=t.parentNode;null!=n&&(n.insertBefore(e,t),n.removeChild(t))}function B(t){var e=t.parentNode;null!=e&&e.removeChild(t)}function K(t,e){var n=t.parentNode;q(n).forEach((function(i){i.previousSibling===t&&i!==e&&n.removeChild(i),i.nextSibling===e&&i!==t&&n.removeChild(i)}))}function z(t,e){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)}function Y(t,e){var n=!1;return requestAnimationFrame((function i(){n||(t.clientWidth>0&&t.clientHeight>0?e():requestAnimationFrame(i))})),function(){n=!0}}function Z(t,e){var n=!1;return requestAnimationFrame((function i(){n||(0===t.clientWidth&&0==t.clientHeight?e():requestAnimationFrame(i))})),function(){n=!0}}function G(t,e){var n=!1,i=!1;return requestAnimationFrame((function o(){n||(t.clientWidth>0&&t.clientHeight>0?i||(i=!0,null!=e.onEnter&&e.onEnter.call(e)):i&&(i=!1,null!=e.onLeave&&e.onLeave.call(e)),requestAnimationFrame(o))})),function(){n=!0}}function X(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function J(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}var Q={start:0,opened:1,sent:2,received:3,finish:4};function tt(t,e){return null!=e.data&&"get"===e.method.toLowerCase()&&s(e.data,(function(e,n){!function(t,e,n){t+=-1===t.indexOf("?")?"?":"&",t+=encodeURIComponent(e)+"="+encodeURIComponent(n)}(t,n,e)})),t}function et(t){return function(t,e){return new Promise(t,e)}((function(e,n){var i=new XMLHttpRequest;_(t.data)&&delete t.data["Content-Type"],i.onreadystatechange=function(){if(i&&i.readyState===Q.finish&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var o,r,u,c,a,l="getAllResponseHeaders"in i?(o=i.getAllResponseHeaders(),a={},o?(s(o.split("\n"),(function(t,e){if(c=t.indexOf(":"),r=t.substr(0,c).trim().toLowerCase(),u=t.substr(c+1).trim(),r){if(a[r]&&ignoreDuplicateOf.indexOf(r)>=0)return;a[r]="set-cookie"===r?(a[r]?a[r]:[]).concat([u]):a[r]?a[r]+", "+u:u}})),a):a):null,f={data:t.responseType&&"text"!==t.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:l,config:t,request:i};i.status>=200&&i.status<300||304==i.status?e(f):n(f),i=null}},i.open(t.method.toLowerCase(),tt(t.url,t),!0),i.send(t.data)}))}function nt(t,e,n){var i={method:"get",url:t,data:e};return null!=n&&l(i,n),et(i)}function it(t,e,n){var i={method:"post",url:t,data:e};return null!=n&&l(i,n),et(i)}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ut(t,e,n){return e&&rt(t.prototype,e),n&&rt(t,n),t}var st=function(){function t(){ot(this,t),this.handlers=[]}return ut(t,[{key:"on",value:function(t){this.handlers.push(t)}},{key:"off",value:function(t){for(var e=0;e<this.handlers.length;e++)this.handlers[e]===t&&this.handlers.splice(e,1)}},{key:"fire",value:function(t,e){var n;e=e||this;for(var i=0;i<this.handlers.length;i++)C(this.handlers[i])&&(n=this.handlers[i].call(e,t));return n}}]),t}(),ct=function(){function t(){ot(this,t),this.messengers={}}return ut(t,[{key:"get",value:function(t){return this.messengers[t]||(this.messengers[t]=new st),this.messengers[t]}},{key:"on",value:function(t,e){this.get(t).on(e)}},{key:"off",value:function(t,e){this.get(t).off(e)}},{key:"fire",value:function(t,e,n){return this.get(t).fire(e,n)}}]),t}();function at(t){return t instanceof st}function lt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ft={filter:"filter",service:"service",component:"component",directive:"directive"},ht=/^[a-z_\$][\w\$-]*/i,pt=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container={},this.waitingToExtends={},this.insContainer={}}var e,n,i;return e=t,(n=[{key:"getMapping",value:function(t){return this.container[t]||(this.container[t]={}),this.container[t]}},{key:"getInstances",value:function(t){return this.insContainer[t]||(this.insContainer[t]=[]),this.insContainer[t]}},{key:"register",value:function(t,e,n){if(-1!==e.indexOf("."))throw new Error('Illegal character "."');var i=this.getMapping(t);if(null==i[e])i[e]=[];else{var o=i[e].filter((function(t){return t.prototype.$$meta.namespace===n.prototype.$$meta.namespace}));if(o.length>0)throw new Error(e+" is exist under namespace "+o[0].prototype.$$meta.namespace)}i[e].push(n)}},{key:"registerComponent",value:function(t,e){this.register(ft.component,t,e)}},{key:"registerDirective",value:function(t,e){this.register(ft.directive,t,e)}},{key:"contains",value:function(t,e,n){var i,o=this.getMapping(t),r=e.split("."),u="";return r.length>1&&(e=r.pop(),u=r.join(".")),null!=(i=n?I(o,e,!0):o[e])&&!(u&&i.length>0&&0===(i=i.filter((function(t){var e=t.prototype.$$meta;return e.namespace&&d(e.namespace)===d(u)}))).length)}},{key:"containsComponent",value:function(t){return this.contains(ft.component,t,!0)}},{key:"containsDirective",value:function(t){return this.contains(ft.directive,t,!0)}},{key:"get",value:function(t,e,n){var i,o=this.getMapping(t),r=e.split("."),u="";if(r.length>1&&(e=r.pop(),u=r.join(".")),null==(i=n?I(o,e,!0):o[e]))throw new Error(t+" "+e+" is not defined");if(u&&i.length>0&&0===(i=i.filter((function(t){var e=t.prototype.$$meta;return e.namespace&&d(e.namespace)===d(u)}))).length)throw new Error(e+" is not exist under namespace "+u);if(i.length>1){var s=i.map((function(t){return t.prototype.$$meta.namespace}));throw new Error("namespace "+s.join("|")+" all have "+e)}return i[0]}},{key:"getComponent",value:function(t){return this.get(ft.component,t)}},{key:"getDirective",value:function(t){return this.get(ft.directive,t)}},{key:"getFilter",value:function(t){return this.get(ft.filter,t)}},{key:"getService",value:function(t){return this.get(ft.service,t)}},{key:"create",value:function(t,e){var n,i=this.get(t,e);switch(t){case ft.component:n=this.createComponent(i);break;case ft.directive:n=this.createDirective(i);break;case ft.filter:n=this.createFilter(i);break;case ft.service:n=this.createService(i);break;default:n=new i}return n}},{key:"createComponent",value:function(t){return x(t)&&(t=this.getComponent(t)),new t}},{key:"createDirective",value:function(t){return x(t)&&(t=this.getDirective(t)),new t}},{key:"createFilter",value:function(t){return x(t)&&(t=this.getFilter(t)),new t}},{key:"createService",value:function(t){var e,n=this.getInstances(ft.service);if(x(t)&&(t=this.getService(t)),!t.prototype.$$meta.nonShared){var i=n.filter((function(e){return e instanceof t}));i.length&&(e=i[0])}return e||(e=new t,n.push(e)),e}},{key:"service",value:function(t){return this.createService(t)}},{key:"getWaitingToExtends",value:function(t){return this.waitingToExtends[t]||(this.waitingToExtends[t]=[]),this.waitingToExtends[t]}},{key:"setWaitingToExtends",value:function(t,e){this.waitingToExtends[t]=e}},{key:"checkSelector",value:function(t,e){if(ht.test(t)){var n="";switch(t.split("-").forEach((function(t){n+=b(t[0])+t.substring(1)})),e){case ft.component:n+="Component";break;case ft.directive:n+="Directive";break;case ft.filter:n+="Filter";break;case ft.service:n+="Service"}return n}throw new Error(t+"is not a valid name")}},{key:"buildConstructor",value:function(t,e,n){var i,o=this,r=this.checkSelector(t,n.contractType),u=o.getWaitingToExtends(n.contractType);if(i=new Function("onConstruct",'"use strict";return function '+r+"(){onConstruct.call(this);};")((function(){C(i.super)&&i.super.call(this),C(e.construct)&&e.construct.call(this,st)})),C(n.superClass)&&m(i,n.superClass),e.selector=t,x(e.extends))if(pt.contains(n.contractType,e.extends)){var s=pt.get(n.contractType,e.extends);c(t,e,i,s)}else u.push({superName:e.extends,callback:function(n){c(t,e,i,n)}});else c(t,e,i);function c(t,e,i,r){null!=r&&m(i,r),k(e.methods)&&l(i.prototype,e.methods),o.registerConstructor(n.contractType,t,i,e);var s=[],c=e.namespace+"."+t;u.forEach((function(t){t.superName===c?t.callback.call(null,i):s.push(t)})),o.setWaitingToExtends(n.contractType,s)}return i}},{key:"registerConstructor",value:function(t,e,n,i){var o=n.prototype.$$meta;if(o&&o.protected)throw new Error(t+": "+i.extends+" is protected, it is not allowed to extend!");i=f(!0,a(!0,o,(function(t,e){return!(t===o&&("construct"===e||"methods"===e))})),i),n.prototype.$$meta=i,i.local||pt.register(t,e,n)}},{key:"injectServices",value:function(t){var e=this,n=t.$getMeta();k(n.inject)&&s(n.inject,(function(n,i){Object.defineProperty(t,i,{enumerable:!1,configurable:!1,get:function(){var o="$$"+i;return null==t[o]&&(t[o]=e.createService(n)),t[o]}})}))}}])&&lt(e.prototype,n),i&&lt(e,i),t}()),yt={},mt={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};function dt(t){this.options=t}"+ - * / % === !== == != < > <= >= && || ! = |".split(" ").forEach((function(t){yt[t]=!0})),dt.prototype.lex=function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),o=yt[e],r=yt[n],u=yt[i];if(o||r||u){var s=u?i:r?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},dt.prototype.is=function(t,e){return-1!==e.indexOf(t)},dt.prototype.peek=function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},dt.prototype.isNumber=function(t){return"0"<=t&&t<="9"&&"string"==typeof t},dt.prototype.isWhitespace=function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||"Â "===t},dt.prototype.isIdentifierStart=function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},dt.prototype.isValidIdentifierStart=function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},dt.prototype.isIdentifierContinue=function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},dt.prototype.isValidIdentifierContinue=function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},dt.prototype.codePointAt=function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},dt.prototype.peekMultichar=function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?t+e:t},dt.prototype.isExpOperator=function(t){return"-"===t||"+"===t||this.isNumber(t)},dt.prototype.throwError=function(t,e,n){n=n||this.index;var i=g(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw new Error("Lexer Error: "+t+" at column"+i+" in expression ["+this.text+"].")},dt.prototype.readNumber=function(){for(var t="",e=this.index;this.index<this.text.length;){var n=d(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},dt.prototype.readIdent=function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},dt.prototype.readString=function(t){var e=this.index;this.index++;for(var n="",i=t,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(i+=r,o){if("u"===r){var u=this.text.substring(this.index+1,this.index+5);u.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+u+"]"),this.index+=4,n+=String.fromCharCode(parseInt(u,16))}else{n+=mt[r]||r}o=!1}else if("\\"===r)o=!0;else{if(r===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",e)};var bt=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},vt={};function gt(t){this.type=t,this.childNodes=[]}function wt(){wt.super.call(this,vt.Program)}function kt(){kt.super.call(this,vt.ExpressionStatement)}function $t(t,e,n){$t.super.call(this,vt.AssignmentExpression),this.left=t,this.right=e,this.operator=n}function xt(t,e,n){xt.super.call(this,vt.ConditionalExpression),this.test=t,this.alternate=e,this.consequent=n}function Ot(t,e,n){Ot.super.call(this,vt.LogicalExpression),this.operator=t,this.left=e,this.right=n}function Et(t,e,n){Et.super.call(this,vt.BinaryExpression),this.operator=t,this.left=e,this.right=n}function Ct(t,e){Ct.super.call(this,vt.UnaryExpression),this.prefix=!0,this.operator=t,this.arg=e}function St(t){St.super.call(this,vt.Literal),this.value=t}function jt(t,e){jt.super.call(this,vt.CallExpression),this.callee=t,this.args=e,this.filter=!1}function _t(t,e,n){_t.super.call(this,vt.MemberExpression),this.object=t,this.property=e,this.computed=n,this.allowNull=!1}function Pt(t){Pt.super.call(this,vt.Identifier),this.name=t,this.allowNull=!1}function Tt(){Tt.super.call(this,vt.ArrayExpression)}function Nt(){Nt.super.call(this,vt.Property),this.kind="init",this.key=null,this.value=null,this.computed=!1}function At(t){At.super.call(this,vt.ObjectExpression),this.properties=t}function Dt(t,e){this.lexer=t,this.options=e}function It(t){It.super.call(this,t)}function Mt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}vt.Program="Program",vt.ExpressionStatement="ExpressionStatement",vt.AssignmentExpression="AssignmentExpression",vt.ConditionalExpression="ConditionalExpression",vt.LogicalExpression="LogicalExpression",vt.BinaryExpression="BinaryExpression",vt.UnaryExpression="UnaryExpression",vt.CallExpression="CallExpression",vt.MemberExpression="MemberExpression",vt.Identifier="Identifier",vt.Literal="Literal",vt.ArrayExpression="ArrayExpression",vt.Property="Property",vt.ObjectExpression="ObjectExpression",gt.prototype.appendChild=function(t){this.childNodes.push(t)},gt.prototype.compute=function(t,e,n){return this.childNodes.map((function(i){return i.compute(t,e||{},n)}))},gt.prototype.hasCC=function(){return this.childNodes.some((function(t){return t.hasCC()}))},m(wt,gt),wt.prototype.compute=function(t,e){var n=this.childNodes[0].compute(t,e||{});return n instanceof bt?null:n},wt.prototype.getMemberExpression=function(){return this.childNodes[0].getMemberExpression()},m(kt,gt),kt.prototype.compute=function(t,e,n){return this.childNodes[0].compute(t,e||{},n)},kt.prototype.getMemberExpression=function(){var t=this.childNodes[0];return t instanceof _t?t:null},m($t,gt),$t.prototype.compute=function(t,e){var n=this.left.compute(t,e,{assignmentLeft:!0}),i=this.right.compute(t,e);n.obj[n.prop]=i},m(xt,gt),xt.prototype.compute=function(t,e){return this.test.compute(t,e)?this.alternate.compute(t,e):this.consequent.compute(t,e)},xt.prototype.hasCC=function(){return!0},m(Ot,gt),Ot.prototype.compute=function(t,e){var n,i=this.left.compute(t,e),o=this.right.compute(t,e);switch(this.operator){case"&&":case"||":n=i&&o}return n},m(Et,gt),Et.prototype.compute=function(t,e){var n,i=this.left.compute(t,e),o=this.right.compute(t,e);switch(this.operator){case"+":n=i+o;break;case"-":n=i-o;break;case"*":n=i*o;break;case"/":n=i/o;break;case"%":n=i%o;break;case"<":n=i<o;break;case">":n=i>o;break;case"<=":n=i<=o;break;case">=":n=i>=o;break;case"==":n=i==o;break;case"!=":n=i!=o;break;case"===":n=i===o;break;case"!==":n=i!==o}return n},m(Ct,gt),Ct.prototype.compute=function(t,e){var n,i=this.arg.compute(t,e);switch(this.operator){case"+":n=i;break;case"-":n=-i;break;case"!":n=!i}return n},m(St,gt),St.prototype.compute=function(){return this.value},St.prototype.toText=function(){return this.value},m(jt,gt),jt.prototype.compute=function(t,e){var n=this.callee.compute(t,e,{callee:!0}),i=this.args.map((function(n){return n.compute(t,e)}));if(this.filter){var o=e.createFilter(n.prop);if(wn(o))return o.$execute.apply(o,i);throw new Error('Filter "'+n.prop+'" is not defined')}var r=n.obj[n.prop];if(C(r))return r.apply(n.obj,i);throw new Error(n.prop+" is not a function")},jt.prototype.hasCC=function(){return!this.filter},m(_t,gt),_t.prototype.compute=function(t,e,n){var i=this.object.compute(t,e,n);if(null==i&&this.object.allowNull&&(i=new bt),this.computed){var o=this.property.compute(t,e,n);return w(e.members)&&e.members.push({target:i,targetKey:this.object.toText(),key:o}),i[o]}return this.property.compute(i,e,n,this.object)},_t.prototype.toText=function(){return this.object.toText()+"."+this.property.toText()},m(Pt,gt),Pt.prototype.compute=function(t,e,n,i){if(n){if(n.assignmentLeft||n.callee)return{obj:t,prop:this.name};if(n.propertyKey)return this.name}var o=t[this.name];return w(e.members)&&e.members.push({target:t,targetKey:null!=i?i.toText():null,key:this.name}),null==o&&e.locals&&(o=e.locals[this.name]),o},Pt.prototype.toText=function(){return this.name},m(Tt,gt),m(Nt,gt),Nt.prototype.compute=function(t,e){return{key:this.key.compute(t,e,{propertyKey:!0}),value:this.value.compute(t,e)}},m(At,gt),At.prototype.compute=function(t,e){var n={};return this.properties.forEach((function(i){var o=i.compute(t,e);n[o.key]=o.value})),n},Dt.prototype.throwError=function(t,e){throw new Error("Syntax Error: Token '"+e.text+"'"+t+" at column "+(e.index+1)+" of the expression ["+this.text+"] starting at ["+this.text.substring(e.index)+"].")},Dt.prototype.parse=function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},Dt.prototype.program=function(){for(var t=new wt;;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.appendChild(this.expressionStatement()),!this.expect(";"))return t},Dt.prototype.expressionStatement=function(){var t=new kt;return t.appendChild(this.filterChain()),t},Dt.prototype.filterChain=function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},Dt.prototype.expression=function(){return this.assignment()},Dt.prototype.assignment=function(){var t,e=this.ternary();if(this.expect("=")){if((t=e).type!==vt.Identifier&&t.type!==vt.MemberExpression)throw new Error("Trying to assign a value to a non l-value");e=new $t(e,this.assignment(),"=")}return e},Dt.prototype.ternary=function(){var t,e=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?new xt(e,t,this.expression()):e},Dt.prototype.logicalOR=function(){for(var t=this.logicalAND();this.expect("||");)t=new Ot("||",t,this.logicalAND());return t},Dt.prototype.logicalAND=function(){for(var t=this.equality();this.expect("&&");)t=new Ot("&&",t,this.equality());return t},Dt.prototype.equality=function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=new Et(t.text,e,this.relational());return e},Dt.prototype.relational=function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=new Et(t.text,e,this.additive());return e},Dt.prototype.additive=function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=new Et(t.text,e,this.multiplicative());return e},Dt.prototype.multiplicative=function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=new Et(t.text,e,this.unary());return e},Dt.prototype.unary=function(){var t;return(t=this.expect("+","-","!"))?new Ct(t.text,this.unary()):this.primary()},Dt.prototype.primary=function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.options.literals.hasOwnProperty(this.peek().text)?t=new St(this.options.literals[this.consume().text]):this.peek().identifier?(t=this.identifier(),this.peek("?")&&(t.allowNull=!0,this.consume("?"))):this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t=new jt(t,this.parseArguments()),this.consume(")")):"["===e.text?(t=new _t(t,this.expression(),!0),this.consume("]"),this.peek("?")&&(t.allowNull=!0,this.consume("?"))):"."===e.text?(t=new _t(t,this.identifier(),!1),this.peek("?")&&(t.allowNull=!0,this.consume("?"))):this.throwError("IMPOSSIBLE");return t},Dt.prototype.filter=function(t){for(var e=[t],n=[this.identifier()];this.expect(".");)n.push(this.identifier());var i=new jt(new Pt(n.map((function(t){return t.name})).join(".")),e);for(i.filter=!0;this.expect(":");)e.push(this.expression());return i},Dt.prototype.parseArguments=function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},Dt.prototype.identifier=function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),new Pt(t.text)},Dt.prototype.constant=function(){return new St(this.consume().value)},Dt.prototype.arrayDeclaration=function(){var t=new Tt;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.appendChild(this.expression())}while(this.expect(","));return this.consume("]"),t},Dt.prototype.object=function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t=new Nt,this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),new At(e)},Dt.prototype.consume=function(t){if(0===this.tokens.length)throw new Error("Unexpected end of expression: "+this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},Dt.prototype.peekToken=function(){if(0===this.tokens.length)throw new Error("Unexpected end of expression: "+this.text);return this.tokens[0]},Dt.prototype.peek=function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},Dt.prototype.peekAhead=function(t,e,n,i,o){if(this.tokens.length>t){var r=this.tokens[t],u=r.text;if(u===e||u===n||u===i||u===o||!e&&!n&&!i&&!o)return r}return!1},Dt.prototype.expect=function(t,e,n,i){var o=this.peek(t,e,n,i);return!!o&&(this.tokens.shift(),o)},m(It,dt),It.prototype.isValidIdentifierStart=function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t||"@"===t||":"===t||"*"===t},It.prototype.isValidIdentifierContinue=function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)||"-"===t||"."===t},It.prototype.expectString=function(t){var e=t.length;return this.index+e<=this.text.length&&t===this.text.substr(this.index,e)},It.prototype.readComment=function(t,e){var n=this.index;this.index+=t.length;for(var i="",o=t;this.index<this.text.length;){var r=this.text.charAt(this.index);if(o+=r,this.expectString(e))return o+=e,this.index+=e.length,void this.tokens.push({index:n,text:o,comment:!0,value:i});i+=r,this.index++}this.throwError("Unterminated comment",n)},It.prototype.readText=function(){for(var t=this.index,e="";this.index<this.text.length;){var n=this.text.charAt(this.index),i=this.peek();if("<"===n&&this.isIdentifierStart(i)||"/"===i||this.expectString("\x3c!--"))break;e+=n,this.index++}this.tokens.push({index:t,text:e,textTag:!0})},It.prototype.readTag=function(t,e,n,i){for(this.tokens.push({index:this.index,text:t,tag:!0,closing:n,begin:!0,doctype:i}),this.index+=t.length,this.readIdent();this.index<this.text.length;){var o=this.text.charAt(this.index);if(!n){var r=o+this.peek();if(r==="/"+e){this.tokens.push({index:this.index,text:r,tag:!0,closing:!0,end:!0}),this.index+=r.length;break}}if(o===e){this.tokens.push({index:this.index,text:e,tag:!0,closing:!!i||n,end:!0}),this.index+=e.length;break}this.isIdentifierStart(this.peekMultichar())?this.readIdent():'"'===o||"'"===o?this.readString(o):this.isWhitespace(o)?this.index++:"="===o?(this.tokens.push({index:this.index,text:"=",equal:!0}),this.index++):this.throwError("Unexpected next character ",this.index,this.index+1)}},It.prototype.lex=function(t){this.text=t,this.index=0,this.tokens=[];for(var e=!!this.options.allowDocType;this.index<this.text.length;){var n=this.text.charAt(this.index),i=this.peek(),o=this.peek(2);this.expectString("\x3c!--")?this.readComment("\x3c!--","--\x3e"):"<"===n&&this.isIdentifierStart(i)?this.readTag("<",">",!1):this.expectString("</")&&this.isIdentifierStart(o)?this.readTag("</",">",!0):this.expectString("<!DOCTYPE")?e?this.readTag("<!",">",!0,!0):this.throwError("DOCTYPE is not allowed",this.index,this.index+1):this.readText()}return this.tokens};var Vt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entity:6,processingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12,connection:101},Rt=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodeType=e,this.nodeName=n,this.nodeValue=i,this.childNodes=[],this.parentNode=null,this.previousSibling=null,this.nextSibling=null,this.firstChild=null,this.lastChild=null,this.ownerDocument=null,this.scope=null}var e,n,i;return e=t,(n=[{key:"$pushChild",value:function(t){t.parentNode=this,this.childNodes.push(t)}},{key:"$buildSibling",value:function(){if(0!==this.childNodes.length){var t=this;1===this.childNodes.length?(this.firstChild=this.childNodes[0],this.lastChild=this.childNodes[0]):(this.firstChild=this.childNodes[0],this.lastChild=this.childNodes[this.childNodes.length-1],this.childNodes.forEach((function(e,n){0!==n?n!==t.childNodes.length-1?(e.previousSibling=t.childNodes[n-1],e.nextSibling=t.childNodes[n+1]):e.previousSibling=t.childNodes[n-1]:e.nextSibling=t.childNodes[n+1]}))),this.childNodes.forEach((function(t){t.$buildSibling()}))}}},{key:"$clearParentAndSibling",value:function(){this.parentNode=null,this.previousSibling=null,this.nextSibling=null}},{key:"$remove",value:function(){null!=this.parentNode&&this.parentNode.removeChild(this)}},{key:"$destroy",value:function(){this.$remove(),this.$clearParentAndSibling(),this.childNodes.length=0,this.firstChild=null,this.lastChild=null,this.ownerDocument=null,this.scope=null}},{key:"hasChildNodes",value:function(){return 0!==this.childNodes.length}},{key:"clearChildNodes",value:function(){this.childNodes.forEach((function(t){t.destroy()})),this.childNodes.length=0}},{key:"appendChild",value:function(t){return null!=t.parentNode&&t.parentNode.removeChild(t),t.parentNode=this,0===this.childNodes.length?this.firstChild=t:(this.lastChild.nextSibling=t,t.previousSibling=this.lastChild),t.compile(this.compileOptions),this.lastChild=t,this.childNodes.push(t),t}},{key:"insertBefore",value:function(t,e){null!=e.parentNode&&e.parentNode.removeChild(e);var n=this.childNodes.indexOf(t);if(-1===n)throw new Error("Ref node is not a child of specified node");return e.parentNode=this,null!=t.previousSibling&&(e.previousSibling=t.previousSibling,t.previousSibling.nextSibling=e),e.nextSibling=t,t.previousSibling=e,0===n&&(this.firstChild=e),e.compile(this.compileOptions),this.childNodes.splice(n,0,e),e}},{key:"insertAfter",value:function(t,e){return null==t.nextSibling?this.appendChild(e):this.insertBefore(t.nextSibling,e)}},{key:"removeChild",value:function(t){var e=this.childNodes.indexOf(t);if(-1===e)throw new Error("Remove node is not a child of specified node");return null!=t.previousSibling&&(t.previousSibling.nextSibling=t.nextSibling),null!=t.nextSibling&&(t.nextSibling.previousSibling=t.previousSibling),0===e&&(this.firstChild=t.nextSibling),e===this.childNodes.length-1&&(this.lastChild=t.previousSibling),t.$clearParentAndSibling(),this.childNodes.splice(e,1),t}},{key:"replaceChild",value:function(t,e){null!=e.parentNode&&e.parentNode.removeChild(e);var n=this.childNodes.indexOf(t);if(-1===n)throw new Error("Ref node is not a child of specified node");return e.parentNode=this,e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,this.firstChild===t&&(this.firstChild=e),this.lastChild===t&&(this.lastChild=e),t.$clearParentAndSibling(),e.compile(this.compileOptions),this.childNodes.splice(n,1,e),e}},{key:"cloneNode",value:function(){throw new Error("not implemented")}},{key:"compile",value:function(t){this.childNodes.forEach((function(e){e.compile(t)}))}},{key:"notifyCompiled",value:function(t){this.childNodes.forEach((function(e){e.notifyCompiled(t)}))}},{key:"link",value:function(t){return this.scope=t,this.childNodes.map((function(e){e.link(t)}))}},{key:"notifyLinked",value:function(){this.childNodes.forEach((function(t){t.notifyLinked()}))}},{key:"detect",value:function(){this.hasChange()&&this.update()}},{key:"hasChange",value:function(){return!1}},{key:"update",value:function(){}},{key:"destroy",value:function(){this.childNodes.map((function(t){t.destroy()})),this.$destroy()}}])&&Mt(e.prototype,n),i&&Mt(e,i),t}();function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ut(t,e,n){return e&&Ft(t.prototype,e),n&&Ft(t,n),t}var qt=function(){function t(e){Lt(this,t),this.text=e,this.value=null,this.oldValue=null}return Ut(t,[{key:"compute",value:function(t,e){this.oldValue=this.value,this.value=qe(this.text,t,e)}},{key:"detect",value:function(){return this.value!==this.oldValue}},{key:"destroy",value:function(){this.value=null,this.oldValue=null}}]),t}(),Ht=function(){function t(){Lt(this,t),this.scope=null,this.text="",this.isExp=!1,this.segments=[],this.rightStr="",this.output=!1,this.value=null,this.oldValue=null,this.unwatches=[],this.change=new st}return Ut(t,[{key:"setScope",value:function(t){this.scope=t}},{key:"setOutput",value:function(t){this.output=t}},{key:"bind",value:function(t,e){if(null!=t)if(this.text=t,this.isExp=e,e)this.segments.push({exp:new qt(t),leftStr:""});else{for(var n=/{{([^}]*)}}/g,i=n.lastIndex,o=n.exec(t);null!=o;)this.segments.push({index:o.index,exp:new qt(o[1]),leftStr:t.substring(i,o.index)}),i=n.lastIndex,o=n.exec(t);this.segments.length>0&&i<t.length&&(this.rightStr=t.substring(i))}}},{key:"compute",value:function(t){var e=this;if(t=t||{},this.oldValue=this.value,0===this.segments.length)this.value=this.text;else if(this.isExp&&1===this.segments.length)this.segments[0].exp.compute(e.scope,t),this.value=this.segments[0].exp.value;else{var n="";this.segments.forEach((function(i){i.exp.compute(e.scope,t),n+=i.leftStr+i.exp.value})),this.value=n+this.rightStr}return this.value}},{key:"assign",value:function(t){var e=We(this.text,this.scope);null!=e.obj&&null!=e.prop&&(e.obj.toProxy()[e.prop]=t)}},{key:"listen",value:function(){var t=this;this.unwatches=this.segments.map((function(e){return t.scope.$watch(e.exp.text,(function(){t.defer((function(){t.detect()&&t.change.fire()}))}))}))}},{key:"defer",value:function(t){var e=this;this.cancelTimeout(),this.timeoutId=setTimeout((function(){e.timeoutId=null,t.call(e)}))}},{key:"cancelTimeout",value:function(){null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"observe",value:function(t){if(!this.output)return this.listen(),this.change.on(t),function(){this.change.off(t)}}},{key:"detect",value:function(){return!this.output&&(this.compute(),this.value!==this.oldValue)}},{key:"destroy",value:function(){this.cancelTimeout(),this.unwatches.forEach((function(t){t.call()})),this.segments.forEach((function(t){t.exp.destroy()})),this.segments=null,this.scope=null,this.value=null,this.oldValue=null}}]),t}();function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Kt(t,e){return!e||"object"!==Wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zt="load unload change submit reset select blur focus abort keydown keypress keyup click dblclick mousedown mousemove mouseout mouseover mouseup".split(" "),Gt=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Kt(this,zt(e).call(this,Vt.attribute,t,n))).quote='"',i.origin=t,i.isEvent=!1,i.isBinding=!1,i.isDomEvent=!1,i.isDirective=!1,i.directive=null,i.ownerElement=null,i.ownerComponent=null,i.htmlElement=null,i.binding=new Ht,i.priority=0,i}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(e,t),n=e,(i=[{key:"belongTo",value:function(t){return this.origin===t}},{key:"setValue",value:function(t){this.nodeValue=t,this.compile(this.options)}},{key:"observe",value:function(t){this.binding.observe(t)}},{key:"compile",value:function(t){if(this.isEvent=this.nodeName.startsWith("@"),this.isBinding=this.nodeName.startsWith(":"),this.isDirective=this.nodeName.startsWith("*"),(this.isEvent||this.isBinding||this.isDirective)&&(this.nodeName=this.nodeName.substr(1)),this.isDomEvent=N(Zt,this.nodeName),this.binding.setOutput(this.isEvent),this.binding.bind(this.nodeValue,this.isEvent||this.isBinding||this.isDirective),this.isDirective){if(!t.containsDirective(this.nodeName))throw new Error("directive "+this.nodeName+" is not defined");this.directive=t.createDirective(this.nodeName),this.directive.$bindNode(this),this.binding.setOutput(this.directive.$output),this.priority=this.directive.$priority}}},{key:"notifyCompiled",value:function(t){null!=this.directive&&this.directive.$compile(t)}},{key:"link",value:function(t,e,n){var i=this;this.scope=t,this.htmlElement=e,this.ownerComponent=n,this.binding.setScope(t),this.isEvent?this.isDomEvent?this.htmlElement.addEventListener(this.nodeName,(function(t){i.binding.compute({locals:{$event:t,$args:null,$element:i.htmlElement}})})):null!=n&&n.$listen(this.nodeName,(function(t,e){i.binding.compute({locals:{$event:t,$args:e,$element:i.htmlElement}})})):(this.directive?(t.$$childDirectives.push(this.directive),this.directive.$setBinding(this.binding)):null!=n&&n.$hasAttr(this.nodeName)?n.$initAttr(this.nodeName,this.binding.compute()):this.nodeName.startsWith("style")?M(this.htmlElement,this.nodeName,this.binding.compute()):this.htmlElement.setAttribute(this.nodeName,this.binding.compute()),this.observe((function(){i.update()})))}},{key:"detect",value:function(){null==this.directive?this.hasChange()&&this.update():this.directive.$detect()}},{key:"hasChange",value:function(){return this.binding.detect()}},{key:"update",value:function(){null!=this.directive?this.directive.$update():null!=this.ownerComponent&&this.ownerComponent.$hasAttr(this.nodeName)?this.ownerComponent.$setAttr(this.nodeName,this.binding.value):this.nodeName.startsWith("style")?M(this.htmlElement,this.nodeName,this.binding.value):(this.htmlElement.setAttribute(this.nodeName,this.binding.value),"INPUT"===this.htmlElement.nodeName&&"value"===this.nodeName&&(this.htmlElement.value=this.binding.value))}},{key:"notifyLinked",value:function(){this.directive&&this.directive.$insert()}},{key:"getDirective",value:function(t){return null==t?this.directive:null!=this.directive&&this.directive.$$meta.selector===t?this.directive:null}},{key:"getOuterTpl",value:function(){return this.origin+(null==this.nodeValue?"":"="+this.quote+this.nodeValue+this.quote)}},{key:"getInnerTpl",value:function(){return this.origin+(null==this.nodeValue?"":"="+this.quote+this.nodeValue+this.quote)}},{key:"dispose",value:function(t){t&&(this.directive=null),this.binding.destroy(),this.binding=null,this.ownerElement=null,this.ownerComponent=null,this.htmlElement=null,this.$destroy()}},{key:"destroy",value:function(){null!=this.directive&&(this.directive.$dispose(!0),this.directive=null),this.dispose()}}])&&Bt(n.prototype,i),o&&Bt(n,o),e}(Rt);function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Qt(t,e){return!e||"object"!==Xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ne=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qt(this,te(e).call(this,Vt.comment,"#comment"))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(e,t),n=e,(i=[{key:"link",value:function(){return document.createComment(this.nodeValue)}},{key:"getOuterTpl",value:function(){return this.nodeValue}},{key:"getInnerTpl",value:function(){return this.nodeValue}}])&&Jt(n.prototype,i),o&&Jt(n,o),e}(Rt);function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function re(t,e){return!e||"object"!==ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ce=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=re(this,ue(e).call(this,Vt.connection,t))).linker=n,i}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(e,t),n=e,(i=[{key:"link",value:function(t){return this.scope=t,this.linker.call(this,t)}},{key:"notifyLinked",value:function(){if(C(this.onInsert))return this.onInsert.call(this)}},{key:"detect",value:function(){if(C(this.onDetect))return this.onDetect.call(this)}},{key:"hasChange",value:function(){if(C(this.onHasChange))return this.onHasChange.call(this)}},{key:"update",value:function(){if(C(this.onUpdate))return this.onUpdate.call(this)}},{key:"destroy",value:function(){if(C(this.onDestroy))return this.onDestroy.call(this);this.$destroy()}}])&&oe(n.prototype,i),o&&oe(n,o),e}(Rt);function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t,e){return(he=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),le(this,fe(e).call(this,Vt.documentType))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&he(t,e)}(e,t),e}(Rt);function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function be(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ve(t,e,n){return e&&be(t.prototype,e),n&&be(t,n),t}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var we=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=me(this,de(e).call(this,Vt.element,name))).attributes=[],t.htmlElement=null,t.component=null,t.selfClosed=!1,t.compileOptions=null,t.isComponent=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(e,t),ve(e,[{key:"parentElement",get:function(){return this.parentNode}}]),ve(e,[{key:"$pushAttribute",value:function(t){t.ownerElement=this,this.attributes.push(t)}},{key:"hasAttributes",value:function(){return 0!==this.attributes.length}},{key:"getAttribute",value:function(t){var e=this.attributes.filter((function(e){return e.belongTo(t)}));return e.length?e[0]:null}},{key:"setAttribute",value:function(t,e){var n,i=this.attributes.filter((function(e){return e.belongTo(t)}));return i.length>0?(n=i[0]).setValue(e):((n=new Gt(t,e)).ownerElement=this,n.compile(this.compileOptions)),this.attributes.push(n),n}},{key:"removeAttribute",value:function(t){var e=[],n=this;if(t instanceof Gt){var i=this.attributes.indexOf(t);-1!==i&&(e=n.attributes.splice(i,1))}else this.attributes.filter((function(e){return e.belongTo(t)})).forEach((function(t){var i=n.attributes.indexOf(t);t.destroy(),e=n.attributes.splice(i,1)}));return e.length>0?e[0]:null}},{key:"appendAttribute",value:function(t){if(null!=t.ownerElement)throw new Error("Current attribute is not new!");return t.ownerElement=this,t.compile(this.compileOptions),this.attributes.push(t),t}},{key:"observe",value:function(t,e){var n=this.attributes.filter((function(e){return e.belongTo(t)}));if(n.length)return n[0].observe(e)}},{key:"getOuterTpl",value:function(){var t="",e="";this.attributes.forEach((function(e){t+=" ",t+=e.getOuterTpl()})),this.childNodes.forEach((function(t){e+=t.getOuterTpl()}));var n="<"+this.nodeName+t+">"+e;return this.selfClosed||(n+="</"+this.nodeName+">"),n}},{key:"getInnerTpl",value:function(){var t="";return this.childNodes.forEach((function(e){t+=e.getOuterTpl()})),t}},{key:"setOuterTpl",value:function(t){var e=this;Fe(t).forEach((function(t){t.parentNode=null,e.parentNode.insertBefore(e,t)})),e.parentNode.removeChild(e)}},{key:"setInnerTpl",value:function(t){var e=this;this.clearChildNodes(),Fe(t).forEach((function(t){t.parentNode=null,e.appendChild(t)}))}},{key:"getDirective",value:function(t){var e=null;return this.attributes.some((function(n){return null!=(e=n.getDirective(t))})),e}},{key:"getDirectives",value:function(){return this.attributes.map((function(t){return t.getDirective()})).filter((function(t){return null!=t}))}},{key:"compile",value:function(t){this.compileOptions=t,this.attributes.forEach((function(e){e.compile(t)})),this.attributes=R(this.attributes,(function(t){return t.priority})),this.isComponent=t.containsComponent(this.nodeName),this.isComponent||this.childNodes.forEach((function(e){e.compile(t)}))}},{key:"notifyCompiled",value:function(t){this.attributes.forEach((function(e){e.notifyCompiled(t)})),null==this.component&&this.childNodes.forEach((function(e){e.notifyCompiled(t)}))}},{key:"link",value:function(t){var e=this;return e.scope=t,e.htmlElement=document.createElement(e.nodeName),this.isComponent?(this.component=t.$createChildCmp(this.nodeName),this.component.$bindNode(this),e.attributes.forEach((function(n){n.link(t,e.htmlElement,e.component)})),e.component.$initAttrDone(),e.component.$mount(e.htmlElement)):(this.attributes.forEach((function(n){n.link(t,e.htmlElement)})),e.childNodes.forEach((function(n){e.htmlElement.appendChild(n.link(t))}))),e.htmlElement}},{key:"notifyLinked",value:function(){this.attributes.forEach((function(t){t.notifyLinked()})),null==this.component&&this.childNodes.forEach((function(t){t.notifyLinked()}))}},{key:"detect",value:function(){this.attributes.forEach((function(t){t.detect()})),null==this.component&&this.childNodes.forEach((function(t){t.detect()}))}},{key:"dispose",value:function(t){null==this.component?this.childNodes.forEach((function(t){t.destroy()})):t&&(this.component=null),this.attributes.forEach((function(t){t.destroy()})),this.attributes.length=0,this.removeHtmlElement(),this.compileOptions=null,this.$destroy()}},{key:"destroy",value:function(){null!=this.component&&(this.component.$dispose(!0),this.component=null),this.dispose()}},{key:"getHtmlElement",value:function(){return this.htmlElement}},{key:"removeHtmlElement",value:function(){null!=this.htmlElement&&B(this.htmlElement)}},{key:"createElement",value:function(t){return new e(t)}},{key:"createAttr",value:function(t){return new Gt(t)}},{key:"createConnection",value:function(t,e){return new ce(t,e)}}]),e}(Rt);function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(t,e){return!e||"object"!==ke(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t,e){return(Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ee=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),$e(this,xe(e).call(this,Vt.documentFragment,"#document-fragment"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(e,t),e}(Rt);function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function je(t,e){return!e||"object"!==Ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _e(t){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Te=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=je(this,_e(e).call(this,Vt.text,"#text"))).binding=new Ht,t.htmlElement=null,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(e,t),n=e,(i=[{key:"compile",value:function(){this.binding.bind(this.nodeValue)}},{key:"link",value:function(t){var e=this;return this.binding.setScope(t),this.binding.observe((function(){e.update()})),this.render(this.binding.compute())}},{key:"hasChange",value:function(){return this.binding.detect()}},{key:"update",value:function(){W(this.htmlElement,this.render(this.binding.value))}},{key:"render",value:function(t){return this.htmlElement=document.createTextNode(t),this.htmlElement}},{key:"getOuterTpl",value:function(){return this.nodeValue}},{key:"getInnerTpl",value:function(){return this.nodeValue}},{key:"removeHtmlElement",value:function(){null!=this.htmlElement&&B(this.htmlElement)}},{key:"destroy",value:function(){this.binding.destroy(),this.binding=null,this.htmlElement=null,this.$destroy()}}])&&Se(n.prototype,i),o&&Se(n,o),e}(Rt);function Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ae(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function De(t,e,n){return e&&Ae(t.prototype,e),n&&Ae(t,n),t}var Ie=new st,Me=new st;var Ve=function(){function t(){Ne(this,t)}return De(t,[{key:"set",value:function(t,e,n){var i=t[e];if(i!==n||w(t)&&"length"===e){var o={valid:!0,apply:!0,oldValue:i,newValue:n};Ie.fire({target:t,key:e,data:o}),o.apply&&(t[e]=n,Me.fire({target:t,key:e,data:{oldValue:i,newValue:n}}))}return!0}}]),t}();function Re(t,e){Re.super.call(this,t,e)}Object.prototype.toProxy=function(){return new Proxy(this,new Ve)},m(Re,Dt),Re.prototype.parse=function(t){this.index=0,this.text=t,this.tokens=this.lexer.lex(t);for(var e,n=new Ee,i=!!this.options.allowDocType;this.index<this.tokens.length;){var o=this.current();if(o.doctype)i?e?this.throwError("DOCTYPE only allow one",o):(e=this.doctype(),n.$pushChild(e)):this.throwError("DOCTYPE is not allowed",o);else if(o.comment){var r=new ne;r.nodeValue=o.text,n.$pushChild(r),this.next()}else if(o.textTag){(t=new Te).nodeValue=o.text,n.$pushChild(t),this.next()}else o.tag&&o.begin?n.$pushChild(this.element()):this.throwError("impossible",o)}return n.$buildSibling(),n.childNodes},Re.prototype.doctype=function(){this.next();var t=new pe,e=this.current();return e.identifier?t.nodeValue=e.text:this.throwError(" Unexpected ",e),this.attrs(t).forEach((function(e){t.childNodes.push(e)})),(e=this.current()).tag&&e.end&&e.closing?this.next():this.throwError(" Unexpected ",e),t},Re.prototype.element=function(t){this.next();var e=new we,n=this.current();if(n.identifier?(e.nodeName=n.text,this.next()):this.throwError(" Unexpected ",n),this.attrs(e).forEach((function(t){e.$pushAttribute(t)})),(n=this.current()).tag&&n.end){if(this.next(),"input"===e.nodeName)return e.selfClosed=!0,e;n.closing||this.childElements(e).forEach((function(t){e.$pushChild(t)}))}else this.throwError(" Unexpected ",n);return(n=this.current()).tag&&n.begin&&n.closing?(this.next(),(n=this.current()).identifier&&e.nodeName===n.text?(this.next(),(n=this.current()).tag&&n.end&&n.closing?this.next():this.throwError(" Unexpected ",n)):this.throwError(" Unexpected ",n)):this.throwError(" Unexpected ",n),e},Re.prototype.childElements=function(t){for(var e=[];this.index<this.tokens.length;){var n=this.current();if(n.tag&&n.closing)break;if(n.comment){var i=new ne;i.nodeValue=n.text,e.push(i),this.next()}else if(n.textTag){var o=new Te;o.nodeValue=n.text,e.push(o),this.next()}else n.tag&&n.begin?e.push(this.element(t)):this.throwError(" Unexpected ",n)}return e},Re.prototype.attrs=function(t){for(var e=[];this.index<this.tokens.length;){var n=this.current();if(n.tag&&n.end)break;var i=new Gt;n.identifier&&(i.nodeName=n.text,i.origin=n.text,this.next(),(n=this.current()).equal&&(this.next(),(n=this.current()).constant?(i.nodeValue=n.value,this.next()):this.throwError(" Unexpected ",n))),e.push(i)}return e},Re.prototype.current=function(){return this.index<this.tokens.length?this.tokens[this.index]:{}},Re.prototype.next=function(){this.index++};var Le={isIdentifierContinue:!1,isIdentifierStart:!1,literals:{false:!1,null:null,true:!0,undefined:void 0}};function Fe(t){return new Re(new It(Le),Le).parse(t)}function Ue(t,e){var n=f({getEmbedTpl:function(){return""},containsComponent:function(){return!1},createComponent:function(){return null},containsDirective:function(){return!1},createDirective:function(){return null}},e),i=Fe(t);return i.forEach((function(t){t.compile(n)})),i.forEach((function(t){t.notifyCompiled(n)})),function(t){var e=document.createDocumentFragment();return t.$$childElements=i,i.forEach((function(n){e.appendChild(n.link(t))})),i.forEach((function(t){t.notifyLinked()})),e}}function qe(t,e,n){return(n=n||{}).createFilter=function(t){return injector.createFilter(t)},n.collectMembers&&(n.members=[]),He(t).compute(e,n)}function He(t){if(null!=t&&0!==(t=t.trim()).length)return t=t.replace("&gt;",">").replace("&lt;","<"),new Dt(new dt(Le),Le).parse(t)}function We(t,e,n){var i=He(t).getMemberExpression();if(null==i)throw new Error(t+"is not valid member expression");return(n=n||{}).createFilter=function(t){return injector.createFilter(t)},{obj:i.object.compute(e,n,{},e),prop:i.property.compute(e,n,{},e)}}function Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ke(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ze(t,e,n){return e&&Ke(t.prototype,e),n&&Ke(t,n),t}var Ye=function(){function t(){Be(this,t),this.plainMap=new Map,this.regexMap=new Map}return ze(t,[{key:"on",value:function(t,e,n){var i=this,o=S(t)?this.regexMap:this.plainMap;return o.has(t)||o.set(t,[]),n&&(e.beforeChanged=n.beforeChanged),o.get(t).push(e),function(){i.off(t,e)}}},{key:"off",value:function(t,e){var n=S(t)?this.regexMap:this.plainMap;if(n.has(t)){var i=n.get(t),o=i.indexOf(e);-1!==o&&i.splice(o,1)}}},{key:"fireChanged",value:function(t,e){var n=this;this.plainMap.has(t)&&this.plainMap.get(t).forEach((function(i){i.beforeChanged||i.call(n,t,e)})),this.regexMap.forEach((function(i,o){o.test(t)&&i.forEach((function(i){i.beforeChanged||i.call(n,t,e)}))}))}},{key:"fireChanging",value:function(t,e){var n=this;this.plainMap.has(t)&&this.plainMap.get(t).forEach((function(i){i.beforeChanged&&i.call(n,t,e)})),this.regexMap.forEach((function(i,o){o.test(t)&&i.forEach((function(i){i.beforeChanged&&i.call(n,t,e)}))}))}},{key:"destroy",value:function(){this.plainMap.clear(),this.regexMap.clear()}}]),t}(),Ze=function(){function t(){Be(this,t);var e=this,n=function(t){var n=t.target,i=t.key;e.fireChanging(n,i,t.data)},i=function(t){var n=t.target,i=t.key;e.fireChanged(n,i,t.data)};Ie.on(n),Me.on(i),this.offChange=function(){Ie.off(n),Me.off(i)},this.objMap=new Map}return ze(t,[{key:"on",value:function(t,e,n,i){return this.objMap.has(t)||this.objMap.set(t,new Ye),this.objMap.get(t).on(e,n,i)}},{key:"off",value:function(t,e,n){this.objMap.has(t)&&this.objMap.get(t).off(e,n)}},{key:"fireChanged",value:function(t,e,n){this.objMap.has(t)&&this.objMap.get(t).fireChanged(e,n)}},{key:"fireChanging",value:function(t,e,n){this.objMap.has(t)&&this.objMap.get(t).fireChanging(e,n)}},{key:"destroy",value:function(){this.offChange.call(this),this.objMap.forEach((function(t){t.destroy()})),this.objMap=null}}]),t}(),Ge=function(){function t(e,n,i,o){Be(this,t),this.scope=e,this.target=n,this.key=i,this.targetKey=o,this.observer=null,this.action=null,this.unwatch=null,this.options=null,this.id=o?o+"."+i:i}return ze(t,[{key:"start",value:function(t,e,n){this.observer=t,this.action=e,this.options=n,this.unwatch=this.observer.on(this.target,this.key,this.action,this.options)}},{key:"stop",value:function(){null!=this.unwatch&&this.unwatch.call()}},{key:"update",value:function(t){if(null!=this.targetKey&&this.targetKey.startsWith(t)){var e=qe(this.targetKey,this.scope);e!==this.target&&(this.stop(),this.target=e,this.unwatch=this.observer.on(this.target,this.key,this.action,this.options))}}},{key:"destroy",value:function(){this.stop(),this.scope=null,this.target=null,this.observer=null,this.action=null,this.unwatch=null}}]),t}(),Xe=new(function(){function t(){Be(this,t);var e=this;this.queue=[],this.timeoutId=null,this.digest=function(){e.defer((function(){e.queue.forEach((function(t){t.call(e)}))}))}}return ze(t,[{key:"defer",value:function(t){var e=this;this.clearDefer(),this.timeoutId=setTimeout((function(){this.timeoutId=null,t.call(e)}))}},{key:"clearDefer",value:function(){null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"execute",value:function(){Me.on(this.digest)}},{key:"apply",value:function(t){this.queue.push(t)}},{key:"remove",value:function(t){var e=this.queue.indexOf(t);-1!==e&&this.queue.splice(e,1)}},{key:"destroy",value:function(){Me.off(this.digest),this.clearDefer(),this.queue=[]}}]),t}());Xe.execute();var Je=function(){function t(e,n){Be(this,t);var i=this;this.scope=e,this.exp=n,this.value=null,this.unwatch=null,this.detect=function(){var t=i.value,e=qe(i.exp,i.scope);e!==t&&(i.value=e,i.action.call(i,{oldValue:t,newValue:e}))}}return ze(t,[{key:"start",value:function(t){var e=this;this.action=t,this.value=qe(this.exp,this.scope),Xe.apply(e.detect),this.unwatch=function(){Xe.remove(e.detect)}}},{key:"stop",value:function(){null!=this.unwatch&&(this.unwatch.call(),this.action=null)}},{key:"destroy",value:function(){this.stop(),this.scope=null,this.unwatch=null}}]),t}(),Qe=function(){function t(e,n){Be(this,t),this.scope=e,this.exp=n,this.observer=null,this.action=null,this.members={},this.digests=[],this.options=null}return ze(t,[{key:"parse",value:function(){if("*"===this.exp&&(this.exp=/.+/i),S(this.exp))return[{target:this.scope,key:this.exp}];if(He(this.exp).hasCC())return[{dirtyCheck:!0,key:this.exp}];var t={collectMembers:!0};return qe(this.exp,this.scope,t),t.members}},{key:"start",value:function(t,e,n){this.observer=t,this.action=e,this.options=n,this.updateMember()}},{key:"updateMember",value:function(){var t=this;this.parse().forEach((function(e){if(e.dirtyCheck){var n=new Je(t.scope,e.key);t.digests.push(n),t.startDigest(n)}else{var i=new Ge(t.scope,e.target,e.key,e.targetKey);t.members[i.id]||(t.members[i.id]=i,t.startMember(i))}}))}},{key:"startDigest",value:function(t){var e=this;t.start((function(t){e.action.call(this,t)}),this.options)}},{key:"startMember",value:function(t){var e=this;t.start(e.observer,(function(n,i){var o=n;null!=t.targetKey&&(o=t.targetKey+"."+n),s(e.members,(function(t,e){t.update(o)})),e.action.call(this,n,i)}),this.options)}},{key:"destroy",value:function(){s(this.members,(function(t,e){t.destroy()})),this.digests.forEach((function(t){t.destroy()})),this.scope=null,this.observer=null,this.action=null,this.members=null,this.digests=null}}]),t}(),tn=function(){function t(){Be(this,t),this.observer=new Ze,this.watchers=[]}return ze(t,[{key:"watch",value:function(t,e,n){var i=this,o=this.createWatcher(t,e);return o.start(this.observer,n),function(){o.destroy(),i.removeWatcher(o)}}},{key:"validate",value:function(t,e,n){var i=this,o=this.createWatcher(t,e);return o.start(this.observer,n,{beforeChanged:!0}),function(){o.destroy(),i.removeWatcher(o)}}},{key:"createWatcher",value:function(t,e){var n=new Qe(t,e);return this.watchers.push(n),n}},{key:"removeWatcher",value:function(t){var e=this.watchers.indexOf(t);-1!==e&&this.watchers.splice(e,1)}},{key:"fireChanged",value:function(t,e,n){return this.observer.fireChanged(t,e,n)}},{key:"fireChanging",value:function(t,e,n){return this.observer.fireChanging(t,e,n)}},{key:"destroy",value:function(){this.watchers.forEach((function(t){t.destroy()})),this.watchers=null,this.observer.destroy(),this.observer=null}}]),t}();function en(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nn(t,e,n){return e&&en(t.prototype,e),n&&en(t,n),t}var on=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.construct.call(this,e)}return nn(t,[{key:"$proxy",get:function(){return this.toProxy()}}]),nn(t,[{key:"$hooks",value:function(){return{beforeAttrChange:"",afterAttrChange:"",onInit:"",beforeViewInit:"",afterViewMount:"",onDestroy:""}}},{key:"$getMeta",value:function(){return this.$$meta||{}}},{key:"$setMeta",value:function(t){this.$$meta=t}},{key:"$bindNode",value:function(t){this.$$element=t}},{key:"$hasAttr",value:function(t){return D(this,t,!0)}},{key:"$initAttr",value:function(t,e){var n=I(this,t,!0);C(this.beforeAttrChange)&&this.beforeAttrChange.call(this,t,e,n),M(this,t,e,!0),C(this.afterAttrChange)&&this.afterAttrChange.call(this,t,e,n)}},{key:"$initAttrDone",value:function(){C(this.onInit)&&this.onInit.call(this)}},{key:"$setAttr",value:function(t,e){var n=I(this,t,!0);C(this.beforeAttrChange)&&this.beforeAttrChange.call(this,t,e,n),M(this.$proxy,t,e,!0),C(this.afterAttrChange)&&this.afterAttrChange.call(this,t,e,n)}},{key:"$listen",value:function(t,e){var n=I(this,t,!0);if(!at(n))throw new Error(t+" is not a event");n.on(e)}},{key:"$getTemplate",value:function(t){var e=this.$getMeta();return t?e.template||"":new Promise((function(t){x(e.template)?t(e.template):x(e.templateUrl)?pt.service("$templateCache").getTplByUrl(e.templateUrl).then((function(e){t(e)})):t("")}))}},{key:"$using",value:function(t){var e=this.$getMeta().using,n=t.split("."),i=n.pop(),o=n.join(".");return o&&k(e)&&c(e,(function(e,n){if(e===o)return t=n+"."+i,!0})),t}},{key:"$makeCompileOptions",value:function(){var t=this;return{getEmbedTpl:function(){return t.$$element.getInnerTpl()},containsComponent:function(e){return pt.containsComponent(t.$using(e))},createComponent:function(e){return pt.createComponent(t.$using(e))},containsDirective:function(e){return pt.containsDirective(t.$using(e))},createDirective:function(e){return pt.createDirective(t.$using(e))}}}},{key:"$hasView",value:function(){return w(this.$$childElements)}},{key:"$showView",value:function(){var t=document.createDocumentFragment();return this.$$childElements.forEach((function(e){t.appendChild(e.getHtmlElement())})),t}},{key:"$clearView",value:function(){this.$hasView()&&(this.$$childElements.forEach((function(t){t.destroy()})),this.$$childElements=null)}},{key:"$render",value:function(t){var e=this,n=null;return t?n=this.$hasView()?this.$showView():Ue(this.$getTemplate(t),this.$makeCompileOptions())(this):new Promise((function(t){e.$hasView()?t(e.$showView()):e.$getTemplate().then((function(i){n=Ue(i,e.$makeCompileOptions())(e),t(n)}))}))}},{key:"$refresh",value:function(t){return this.$clearView(),this.$render(t)}},{key:"$mount",value:function(t,e){var n,i=this;e=e||{};n=x(t)?document.querySelector(t):t,e.append||H(n),e.sync?(n.appendChild(this.$render(e.sync)),i.$afterViewMount()):this.$render(e.sync).then((function(t){n.appendChild(t),i.$afterViewMount()}))}},{key:"$unmount",value:function(){null!=this.$$element?(this.$$element.$remove(),this.$$element.removeHtmlElement()):this.$hasView()&&this.$$childElements.forEach((function(t){t.removeHtmlElement()})),null!=this.$$parentComponent&&(this.$$parentComponent.$removeChildCmp(this),this.$$parentComponent=null)}},{key:"$afterViewMount",value:function(){C(this.afterViewMount)&&this.afterViewMount.call(this)}},{key:"$detect",value:function(){if(!this.$$detectTimeout&&this.$$childElements){var t=this;t.$$detectTimeout=setTimeout((function(){t.$$detectTimeout=null,t.$$childElements.forEach((function(t){t.detect()}))}))}}},{key:"$validate",value:function(){var t,e,n;if(2===arguments.length)t=this,e=arguments[0],n=arguments[1];else{if(3!==arguments.length)throw new Error("arguments error");t=arguments[0],e=arguments[1],n=arguments[2]}return this.$$observer.validate(t,e,n)}},{key:"$watch",value:function(){var t,e,n;if(2===arguments.length)t=this,e=arguments[0],n=arguments[1];else{if(3!==arguments.length)throw new Error("arguments error");t=arguments[0],e=arguments[1],n=arguments[2]}return this.$$observer.watch(t,e,n)}},{key:"$eval",value:function(t){return qe(t,this)}},{key:"$getParentCmp",value:function(){return this.$$parentComponent}},{key:"$removeChildCmp",value:function(t){var e=this.$$childComponents.indexOf(t);-1!==e&&(this.$$childComponents.splice(e,1),t.$$parentComponent=null)}},{key:"$createChildCmp",value:function(t){var e=pt.createComponent(t);return this.$$childComponents.push(e),e.$$parentComponent=this,e}},{key:"$inheritCmp",value:function(t){var e=this;Object.setPrototypeOf(e,y(t)),s(e.$hooks(),(function(t,n){null==e.hasOwnProperty(n)&&(e[n]=function(){})})),this.$$disposers.push(t.$validate("*",(function(t,n){e.$$observer.fireChanging(e,t,n)}))),this.$$disposers.push(t.$watch("*",(function(t,n){e.$$observer.fireChanged(e,t,n)})))}},{key:"$dispose",value:function(t){this.$unmount(),C(this.onDestroy)&&this.onDestroy.call(this),this.$$detectTimeout&&clearTimeout(this.$$detectTimeout),this.$$disposers.forEach((function(t){t.call()})),this.$clearView(),this.$$observer.destroy(),t&&(this.$$element=null),this.$$childComponents=null,this.$$childDirectives=null}},{key:"$destroy",value:function(){this.$dispose(),null!=this.$$element&&(this.$$element.dispose(!0),this.$$element=null)}}],[{key:"construct",value:function(t){this.$$element=null,this.$$childElements=null,this.$$parentComponent=null,this.$$childComponents=[],this.$$childDirectives=[],this.$$detectTimeout=null,this.$$observer=new tn,this.$$disposers=[],null!=t&&this.$setMeta(t),pt.injectServices(this)}}]),t}();function rn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function un(t,e,n){return e&&rn(t.prototype,e),n&&rn(t,n),t}var sn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.construct.call(this)}return un(t,[{key:"$htmlElement",get:function(){return null!=this.$element?this.$element.htmlElement:null}},{key:"$component",get:function(){return null!=this.$element?this.$element.ownerComponent:null}},{key:"$scope",get:function(){return null!=this.$binding?this.$binding.scope:null}}]),un(t,[{key:"$hooks",value:function(){return{onInit:"",onCompile:"",onInsert:"",onDetect:"",onUpdate:"",onDestroy:""}}},{key:"$getMeta",value:function(){return this.$$meta||{}}},{key:"$setMeta",value:function(t){this.$$meta=t}},{key:"$bindNode",value:function(t){this.$attr=t,this.$element=t.ownerElement}},{key:"$setBinding",value:function(t){this.$binding=t}},{key:"$compile",value:function(t){C(this.onCompile)&&this.onCompile.call(this,t)}},{key:"$insert",value:function(){C(this.onInsert)&&this.onInsert.call(this),(C(this.onEnter)||C(this.onLeave))&&this.$requestAnimation()}},{key:"$isLoaded",value:function(){return this.$htmlElement.clientWidth>0&&this.$htmlElement.clientHeight>0}},{key:"$requestAnimation",value:function(){var t=this;requestAnimationFrame((function e(){t.$$cancelAnimationToken||(t.$isLoaded()?t.$elementloaded||(t.$elementloaded=!0,null!=t.onEnter&&t.onEnter.call(t)):t.$elementloaded&&(t.$elementloaded=!1,null!=t.onLeave&&t.onLeave.call(t)),requestAnimationFrame(e))}))}},{key:"$cancelAnimation",value:function(){this.$$cancelAnimationToken=!0}},{key:"$detect",value:function(){if(C(this.onDetect))return this.onDetect.call(this);this.$binding.detect()&&this.$update()}},{key:"$update",value:function(){C(this.onUpdate)&&this.onUpdate.call(this)}},{key:"$getAttrValue",value:function(t){var e=this.$element.getAttribute(t);return null==e?"":e.binding.value}},{key:"$dispose",value:function(t){var e=this;this.$cancelAnimation(),C(this.onDestroy)&&this.onDestroy.call(this),t&&(this.$attr=null,this.$element=null),this.$$disposers.forEach((function(t){t.call(e)})),this.$binding=null}},{key:"$destroy",value:function(){this.$dispose(),null!=this.$attr&&(this.$attr.dispose(!0),this.$attr=null,this.$element=null)}}],[{key:"construct",value:function(){this.$$disposers=[],this.$$cancelAnimationToken=!1,this.$output=!1,this.$binding=null,this.$attr=null,this.$element=null,this.$priority=0,this.$elementloaded=!1,pt.injectServices(this)}}]),t}();function cn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var an=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.construct.call(this)}var e,n,i;return e=t,i=[{key:"construct",value:function(){pt.injectServices(this)}}],(n=[{key:"$hooks",value:function(){return{onInit:"",onDestroy:""}}},{key:"$getMeta",value:function(){return this.$$meta||{}}},{key:"$setMeta",value:function(t){this.$$meta=t}},{key:"$execute",value:function(){if(C(this.onExecute))return this.onExecute.apply(this,arguments)}},{key:"$destroy",value:function(){C(this.onDestroy)&&this.onDestroy.call(this)}}])&&cn(e.prototype,n),i&&cn(e,i),t}();function ln(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var fn,hn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.construct.call(this)}var e,n,i;return e=t,i=[{key:"construct",value:function(){pt.injectServices(this)}}],(n=[{key:"$hooks",value:function(){return{onInit:"",onDestroy:""}}},{key:"$getMeta",value:function(){return this.$$meta||{}}},{key:"$setMeta",value:function(t){this.$$meta=t}},{key:"$destroy",value:function(){C(this.onDestroy)&&this.onDestroy.call(this)}}])&&ln(e.prototype,n),i&&ln(e,i),t}();function pn(t){return{component:function(e,n){return n.namespace=t,yn(e,n)},directive:function(e,n){return C(n)&&(n={methods:{onInsert:n,onUpdate:n}}),n.namespace=t,mn(e,n)},service:function(e,n){return n.namespace=t,bn(e,n)},filter:function(e,n){return C(n)&&(n={methods:{onExecute:n}}),n.namespace=t,dn(e,n)}}}function yn(t,e){return pt.buildConstructor(t,e,{contractType:ft.component,superClass:xn(on)})}function mn(t,e){return C(e)&&(e={methods:{onInsert:e,onUpdate:e}}),pt.buildConstructor(t,e,{contractType:ft.directive,superClass:xn(sn)})}function dn(t,e){return C(e)&&(e={methods:{onExecute:e}}),pt.buildConstructor(t,e,{contractType:ft.filter,superClass:xn(an)})}function bn(t,e){return pt.buildConstructor(t,e,{contractType:ft.service,superClass:xn(hn)})}function vn(t){return t instanceof on}function gn(t){return t instanceof sn}function wn(t){return t instanceof an}function kn(t){return t instanceof hn}function $n(t){var e,n;n=(e=x(t)?document.querySelector(t):t).innerHTML,new on({template:n}).$mount(e)}function xn(t){function e(){t.construct.call(this)}return e.prototype=t.prototype,e}function On(t){return function(e){var n=t.selector||e.name;pt.registerConstructor(ft.service,n,e,t)}}function En(t){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Sn(t,e){return!e||"object"!==En(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _n(t,e){return(_n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pn;On({namespace:"sine",selector:"$templateCache"})(fn=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Sn(this,jn(e).call(this))).tplCache={},t.promiseCache={},t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)}(e,t),n=e,(i=[{key:"getTplByUrl",value:function(t){var e=this;return this.tplCache[t]?new Promise((function(n){n(e.tplCache[t])})):(this.promiseCache[t]||(this.promiseCache[t]=nt(t).then((function(n){return e.promiseCache[t]=null,e.tplCache[t]=n.data||"",e.tplCache[t]}))),this.promiseCache[t])}}])&&Cn(n.prototype,i),o&&Cn(n,o),e}(hn));function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nn(t,e){return!e||"object"!==Tn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function An(t){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dn(t,e){return(Dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var In;On({namespace:"sine",selector:"$modelOptions"})(Pn=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Nn(this,An(e).call(this))).cssClass={pristine:"n-pristine",dirty:"n-dirty",valid:"n-valid",invalid:"n-invalid"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dn(t,e)}(e,t),e}(hn));function Mn(t){return function(e){var n=t.selector||e.name;pt.registerConstructor(ft.directive,n,e,t)}}function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ln(t,e){return!e||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fn(t){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Un(t,e){return(Un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qn;Mn({namespace:"sine",selector:"n-bind"})(In=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ln(this,Fn(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Un(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.bind()}},{key:"onUpdate",value:function(){this.bind()}},{key:"bind",value:function(){this.$htmlElement.innerText=this.$binding.compute()}}])&&Rn(n.prototype,i),o&&Rn(n,o),e}(sn));function Hn(t){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Bn(t,e){return!e||"object"!==Hn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yn;Mn({namespace:"sine",selector:"n-embed"})(qn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Bn(this,Kn(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(e,t),n=e,(i=[{key:"onCompile",value:function(t){var e=t.getEmbedTpl();e&&this.$element.setInnerTpl(e)}}])&&Wn(n.prototype,i),o&&Wn(n,o),e}(sn));function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xn(t,e){return!e||"object"!==Zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jn(t){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ti;Mn({namespace:"sine",selector:"n-hide",inject:{$animate:"$animate"}})(Yn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xn(this,Jn(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.toggle()}},{key:"onUpdate",value:function(){this.toggle()}},{key:"toggle",value:function(){var t=this;this.$binding.compute()?this.$animate.leave(this.$element,(function(){t.$htmlElement.style.display="none"})):this.$animate.enter(this.$element,(function(){t.$htmlElement.style.display="initial"}))}}])&&Gn(n.prototype,i),o&&Gn(n,o),e}(sn));function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ii(t,e){return!e||"object"!==ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oi(t){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ri(t,e){return(ri=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ui;Mn({namespace:"sine",selector:"n-if",inject:{$animate:"$animate"}})(ti=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=ii(this,oi(e).call(this))).htmlComment=null,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ri(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.htmlComment=document.createComment("n-if"),this.$binding.compute()||W(this.$htmlElement,this.htmlComment)}},{key:"onUpdate",value:function(){var t=this;this.$binding.compute()?null==this.$htmlElement.parentNode&&this.$animate.enter(this.$element,(function(){W(t.htmlComment,t.$htmlElement)})):null!=this.$htmlElement.parentNode&&this.$animate.leave(this.$element,(function(){W(t.$htmlElement,t.htmlComment)}))}},{key:"onDestroy",value:function(){this.htmlComment=null}}])&&ni(n.prototype,i),o&&ni(n,o),e}(sn));function si(t){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ci(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ai(t,e){return!e||"object"!==si(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function li(t){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fi(t,e){return(fi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hi;Mn({namespace:"sine",selector:"n-model",inject:{options:"$modelOptions"}})(ui=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=ai(this,li(e).call(this))).$viewValue=null,t.$modelValue=null,t.$parsers=[],t.$formatters=[],t.$viewChangeListeners=[],t.$validators=[],t.$feedback="",t.$pristine=!0,t.$dirty=!1,t.$valid=!0,t.$invalid=!1,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fi(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){var t=this;if(this.setViewValue(),null!=this.$component)throw at(this.$component.change)&&this.$component.change.on((function(e,n){t.setModelValue(n.newvalue)})),new Error("Compoent "+this.$component.$$meta.selector+"must define [change] event");this.$htmlElement.addEventListener("input",(function(e){t.setModelValue(e.target.value)}))}},{key:"onUpdate",value:function(){this.setViewValue()}},{key:"onDestroy",value:function(){this.$parsers=null,this.$formatters=null,this.$viewChangeListeners=null,this.$validators=null}},{key:"setViewValue",value:function(){var t=this;this.$modelValue=this.$binding.compute();var e=this.$modelValue;this.$validators.forEach((function(e){e.call(t,t.$modelValue,t.$viewValue)})),this.$formatters.forEach((function(n){e=n.call(t,e)})),this.$viewValue!==e&&(this.$viewValue=e,null==this.$component?this.$htmlElement.value=this.$modelValue:this.$component.$setAttr("value",this.$modelValue)),this.updateCss(),this.updateState()}},{key:"setModelValue",value:function(t){var e=this;this.setDirty(!0),this.$viewValue=t,this.$viewChangeListeners.forEach((function(n){n.call(e,t)}));var n=this.$viewValue;this.$parsers.forEach((function(t){n=t.call(e,n)})),this.$modelValue!==n&&(this.$modelValue=n,this.$validators.forEach((function(t){t.call(e,e.$modelValue,e.$viewValue)})),this.$binding.assign(this.$modelValue))}},{key:"updateCss",value:function(){var t=this.$htmlElement,e=this.options.cssClass;this.$dirty?(t.classList.add(e.dirty),t.classList.remove(e.pristine)):(t.classList.add(e.pristine),t.classList.remove(e.dirty)),this.$valid?(t.classList.add(e.valid),t.classList.remove(e.invalid)):(t.classList.add(e.invalid),t.classList.remove(e.valid))}},{key:"updateState",value:function(){var t=this.$htmlElement.name;if(t){var e=this.$binding.scope.toProxy();null==e[t]&&(e[t]={});var n=e[t].toProxy();n.$pristine=this.$pristine,n.$dirty=this.$dirty,n.$valid=this.$valid,n.$invalid=this.$invalid,n.$feedback=this.$feedback}}},{key:"setDirty",value:function(t){this.$dirty=t,this.$pristine=!t,this.updateState(),this.updateCss()}},{key:"setValidity",value:function(t,e){this.$valid=t,this.$invalid=!t,this.$feedback=e,this.updateState(),this.updateCss()}}])&&ci(n.prototype,i),o&&ci(n,o),e}(sn));function pi(t){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mi(t,e){return!e||"object"!==pi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function di(t){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vi;Mn({namespace:"sine",selector:"n-repeat"})(hi=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=mi(this,di(e).call(this))).scope=null,t.itemExp="",t.itemsExp="",t.itemTemplate="",t.dataItems=[],t.cmpItems=[],t.header=null,t.footer=null,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(e,t),n=e,(i=[{key:"onCompile",value:function(){var t=this.$attr.nodeValue,e=this.$element,n=/^([a-z_]+\w+)\s+in\s+(.+)$/i.exec(t);if(null==n)throw new Error("n-repeat: parameter is not valid");this.itemExp=n[1],this.itemsExp=n[2],e.removeAttribute(this.$attr),this.itemTemplate=e.getOuterTpl();var i=this,o=e.createConnection("n-repeat",(function(t){var e=document.createDocumentFragment(),n=t.$eval(i.itemsExp);return i.scope=t,i.setDataItems(n),i.header=document.createComment("start: n-repeat"),i.footer=document.createComment("end: n-repeat"),e.appendChild(i.header),e.appendChild(i.footer),e}));e.parentNode.replaceChild(e,o),e.destroy(),o.onInsert=function(){i.render()},o.onDetect=function(){var t=i.scope.$eval(i.itemsExp);i.dataItems!==t?(i.setDataItems(t),i.render()):i.cmpItems.forEach((function(t){t.$detect()}))},o.onDestroy=function(){i.$destroy(),e=null,o=null}}},{key:"onDestroy",value:function(){this.cmpItems.forEach((function(t){t.$destroy()})),this.cmpItems=null,this.scope=null,this.dataItems=null,this.header=null,this.footer=null}},{key:"setDataItems",value:function(t){var e=this;w(t)?this.dataItems=t:this.dataItems=[],this.scope.$watch(this.dataItems,"length",(function(){e.render()}))}},{key:"getCmpItem",value:function(t){var e=this,n=this.cmpItems.filter((function(n){return n[e.itemExp]===t}));if(0===n.length)return null;var i=n[0];return this.cmpItems=this.cmpItems.filter((function(n){return n[e.itemExp]!==t})),i}},{key:"render",value:function(){var t=this,e=document.createDocumentFragment(),n=[],i=0;s(t.dataItems,(function(o,r){var u=t.getCmpItem(o);null==u&&((u=new on({template:t.itemTemplate}))[t.itemExp]=o,u.$inheritCmp(t.scope)),u.$index=i,e.appendChild(u.$render(!0)),n.push(u),i++})),t.cmpItems.length>0&&t.cmpItems.forEach((function(t){t.$destroy()})),t.cmpItems=n,K(t.header,t.footer),t.footer.parentNode.insertBefore(e,t.footer)}}])&&yi(n.prototype,i),o&&yi(n,o),e}(sn));function gi(t){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ki(t,e){return!e||"object"!==gi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $i(t){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xi(t,e){return(xi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Oi;Mn({namespace:"sine",selector:"n-show",inject:{$animate:"$animate"}})(vi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ki(this,$i(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xi(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.toggle()}},{key:"onUpdate",value:function(){this.toggle()}},{key:"toggle",value:function(){var t=this;this.$binding.compute()?this.$animate.enter(this.$element,(function(){t.$htmlElement.style.display="initial"})):this.$animate.leave(this.$element,(function(){t.$htmlElement.style.display="none"}))}}])&&wi(n.prototype,i),o&&wi(n,o),e}(sn));function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ci(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Si(t,e){return!e||"object"!==Ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ji(t){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _i(t,e){return(_i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pi,Ti=Mn({namespace:"sine",selector:"n-class"})(Oi=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Si(this,ji(e).call(this))).unwatch=null,t.initialClassList=[],t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_i(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.parseClass(),this.setClass()}},{key:"onUpdate",value:function(){this.setClass()}},{key:"watchArray",value:function(t,e){var n=this;this.unwatchArray(),this.$scope.$watch(t,"length",(function(){e.call(n)}))}},{key:"unwatchArray",value:function(){null!=this.unwatch&&(this.unwatch.call(this),this.unwatch=null)}},{key:"onDestroy",value:function(){this.unwatchArray()}},{key:"textToArray",value:function(t){return t.split(" ").filter((function(t){return t.trim().length>0}))}},{key:"parseClass",value:function(){var t=this.$getAttrValue("class");t&&(this.initialClassList=this.textToArray(t))}},{key:"setClassList",value:function(t){this.$htmlElement.classList.forEach((function(t){this.$htmlElement.classList.remove(t)})),this.initialClassList.forEach((function(t){this.$htmlElement.classList.add(t)})),t.forEach((function(t){this.$htmlElement.classList.add(t)}))}},{key:"setClass",value:function(){if(!this.skip()){var t=this,e=[],n=this.$binding.compute();if(null!=n)if(x(n))e=this.textToArray(n);else{if(!w(n))throw new Error("Parameter of n-class should be string or array");e=n,this.watchArray(n,(function(){t.setClassList(n)}))}this.setClassList(e)}}},{key:"skip",value:function(){return!1}}])&&Ci(n.prototype,i),o&&Ci(n,o),e}(sn))||Oi;function Ni(t){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ai(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Di(t,e){return!e||"object"!==Ni(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mi(t,e){return(Mi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vi;Mn({namespace:"sine",selector:"n-class-even"})(Pi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Di(this,Ii(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mi(t,e)}(e,t),n=e,(i=[{key:"skip",value:function(){return!0&this.$scope.$index}}])&&Ai(n.prototype,i),o&&Ai(n,o),e}(Ti));function Ri(t){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Fi(t,e){return!e||"object"!==Ri(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ui(t){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qi(t,e){return(qi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hi;Mn({namespace:"sine",selector:"n-class-odd"})(Vi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fi(this,Ui(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qi(t,e)}(e,t),n=e,(i=[{key:"skip",value:function(){return!1&this.$scope.$index}}])&&Li(n.prototype,i),o&&Li(n,o),e}(Ti));function Wi(t){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ki(t,e){return!e||"object"!==Wi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zi(t){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yi(t,e){return(Yi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zi,Gi=Mn({namespace:"sine",selector:"n-style"})(Hi=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ki(this,zi(e).call(this))).unwatch=null,t.initialStyle={},t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yi(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.parseStyle(),this.setStyle()}},{key:"onUpdate",value:function(){this.setStyle()}},{key:"onDestroy",value:function(){this.unwatchObj()}},{key:"watchObj",value:function(t,e){var n=this;this.unwatchObj(),this.$scope.$watch(t,"*",(function(){e.call(n)}))}},{key:"unwatchObj",value:function(){null!=this.unwatch&&(this.unwatch.call(this),this.unwatch=null)}},{key:"parseStyle",value:function(){var t=this.$getAttrValue("style");t&&(this.initialStyle=this.textToObject(t))}},{key:"textToObject",value:function(t){var e={};return t.split(";").filter((function(t){return t.trim().length>0})).forEach((function(t){var n=t.split(":"),i=n[0],o=n[1];e[i]=o})),e}},{key:"applyStyle",value:function(t){var e=this.$htmlElement;e.style="",s(this.initialStyle,(function(t,n){e.style[n]=t})),s(t,(function(t,n){e.style[n]=t}))}},{key:"setStyle",value:function(){if(!this.skip()){var t=this,e={},n=this.$binding.compute();if(null!=n)if(x(n))e=this.textToObject(n);else{if(!k(n))throw new Error("Parameter of n-style should be string or object");e=n,this.watchObj(n,(function(){t.applyStyle(n)}))}this.applyStyle(e)}}},{key:"skip",value:function(){return!1}}])&&Bi(n.prototype,i),o&&Bi(n,o),e}(sn))||Hi;function Xi(t){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ji(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Qi(t,e){return!e||"object"!==Xi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function to(t){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eo(t,e){return(eo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var no;Mn({namespace:"sine",selector:"n-style-even"})(Zi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qi(this,to(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eo(t,e)}(e,t),n=e,(i=[{key:"skip",value:function(){return!0&this.$scope.$index}}])&&Ji(n.prototype,i),o&&Ji(n,o),e}(Gi));function io(t){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ro(t,e){return!e||"object"!==io(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uo(t){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function so(t,e){return(so=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var co;Mn({namespace:"sine",selector:"n-style-odd"})(no=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ro(this,uo(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&so(t,e)}(e,t),n=e,(i=[{key:"skip",value:function(){return!1&this.$scope.$index}}])&&oo(n.prototype,i),o&&oo(n,o),e}(Gi));function ao(t){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function fo(t,e){return!e||"object"!==ao(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ho(t){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function po(t,e){return(po=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yo;Mn({namespace:"sine",selector:"n-switch"})(co=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=fo(this,ho(e).call(this))).value=null,t.valueChanged=new st,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&po(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.value=this.$binding.compute()}},{key:"onUpdate",value:function(){var t=this.value,e=this.$binding.compute();e!==t&&(this.value=e),this.valueChanged.fire({oldValue:t,newValue:e})}}])&&lo(n.prototype,i),o&&lo(n,o),e}(sn));function mo(t){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function vo(t,e){return!e||"object"!==mo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wo(t,e){return(wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ko;Mn({namespace:"sine",selector:"n-switch-default"})(yo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=vo(this,go(e).call(this))).isMatch=!1,t.htmlComment=null,t.switchWhenDirs=[],t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(e,t),n=e,(i=[{key:"initSwitchWhenDirs",value:function(){for(var t=this.$element;null!=t.previousSibling;){var e=t.previousSibling.getDirective("n-switch-when");null!=e&&this.switchWhenDirs.push(e),t=t.previousSibling}}},{key:"match",value:function(){return!this.switchWhenDirs.some((function(t){return t.isMatch}))}},{key:"onInsert",value:function(){var t=this;this.initSwitchWhenDirs(),this.isMatch=this.match(),this.htmlComment=document.createComment("n-switch-default"),this.isMatch||W(this.$htmlElement,this.htmlComment),this.switchWhenDirs.forEach((function(e){e.isMatchChanged.on((function(){t.update()}))}))}},{key:"update",value:function(){var t=this.isMatch,e=this.match();e!==t&&(this.isMatch=e,this.isMatch?null==this.$htmlElement.parentNode&&W(this.htmlComment,this.$htmlElement):null!=this.$htmlElement.parentNode&&W(this.$htmlElement,this.htmlComment))}},{key:"onDestroy",value:function(){this.htmlComment=null,this.switchWhenDirs=null}}])&&bo(n.prototype,i),o&&bo(n,o),e}(sn));function $o(t){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Oo(t,e){return!e||"object"!==$o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eo(t){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Mn({namespace:"sine",selector:"n-switch-when"})(ko=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Oo(this,Eo(e).call(this))).isMatch=!1,t.htmlComment=null,t.switchDir=null,t.isMatchChanged=new st,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(e,t),n=e,(i=[{key:"initSwitchDir",value:function(){var t=this.$element.parentNode.getDirective("n-switch");if(null==t)throw new Error("Require n-switch directive");this.switchDir=t}},{key:"onInsert",value:function(){var t=this;this.initSwitchDir(),this.htmlComment=document.createComment("n-switch-when"),this.isMatch=this.$binding.compute()===this.switchDir.value,this.isMatch||W(this.$htmlElement,this.htmlComment),this.switchDir.valueChanged.on((function(){t.update()}))}},{key:"update",value:function(){var t=this.isMatch,e=this.$binding.compute()===this.switchDir.value;e!==t&&(this.isMatch=e,this.isMatchChanged.fire(),this.isMatch?null==this.$htmlElement.parentNode&&W(this.htmlComment,this.$htmlElement):null!=this.$htmlElement.parentNode&&W(this.$htmlElement,this.htmlComment))}},{key:"onDestroy",value:function(){this.htmlComment=null,this.switchDir=null}}])&&xo(n.prototype,i),o&&xo(n,o),e}(sn));function So(t){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _o(t,e){return!e||"object"!==So(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Po(t){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function To(t,e){return(To=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var No,Ao=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_o(this,Po(e).call(this))).attrName=t,n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&To(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.perform()}},{key:"onUpdate",value:function(){this.perform()}},{key:"perform",value:function(){this.$binding.compute()?this.$htmlElement.hasAttribute(this.attrName)||this.$htmlElement.setAttribute(this.attrName,""):this.$htmlElement.hasAttribute(this.attrName)&&this.$htmlElement.removeAttribute(this.attrName)}}])&&jo(n.prototype,i),o&&jo(n,o),e}(sn);function Do(t){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Io(t,e){return!e||"object"!==Do(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vo(t,e){return(Vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ro;Mn({namespace:"sine",selector:"n-checked"})(No=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Io(this,Mo(e).call(this,"checked"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vo(t,e)}(e,t),e}(Ao));function Lo(t){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fo(t,e){return!e||"object"!==Lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uo(t){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qo(t,e){return(qo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ho;Mn({namespace:"sine",selector:"n-disabled"})(Ro=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fo(this,Uo(e).call(this,"disabled"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qo(t,e)}(e,t),e}(Ao));function Wo(t){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bo(t,e){return!e||"object"!==Wo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ko(t){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zo(t,e){return(zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yo;Mn({namespace:"sine",selector:"n-readonly"})(Ho=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Bo(this,Ko(e).call(this,"readonly"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zo(t,e)}(e,t),e}(Ao));function Zo(t){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Go(t,e){return!e||"object"!==Zo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xo(t){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jo(t,e){return(Jo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qo;Mn({namespace:"sine",selector:"n-selected"})(Yo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Go(this,Xo(e).call(this,"selected"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jo(t,e)}(e,t),e}(Ao));function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nr(t,e){return!e||"object"!==tr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function or(t,e){return(or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rr;Mn({namespace:"sine",selector:"n-name"})(Qo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=nr(this,ir(e).call(this))).$output=!0,t.name=null,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&or(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){if(this.name=this.$binding.text,this.name){var t=this.$scope.toProxy();null!=this.$component?t[this.name]=this.$component:t[this.name]=this.$element}}},{key:"onDestroy",value:function(){null!=this.name&&(this.$scope[this.name]=null)}},{key:"setCmp",value:function(t){this.$scope.toProxy()[this.name]=t}}])&&er(n.prototype,i),o&&er(n,o),e}(sn));function ur(t){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cr(t,e){return!e||"object"!==ur(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lr(t,e){return(lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fr;Mn({namespace:"sine",selector:"n-bind-cmp"})(rr=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=cr(this,ar(e).call(this))).$priority=5,t.nameDir=null,t.config=null,t.view=null,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lr(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.init(),this.render()}},{key:"onUpdate",value:function(){this.clear(),this.render()}},{key:"onDestroy",value:function(){this.clear(),this.nameDir=null}},{key:"init",value:function(){this.nameDir=this.$element.getDirective("n-name"),this.bindCmpOptionsDir=this.$element.getDirective("n-bind-cmp-options"),null!=this.bindCmpOptionsDir?this.config=this.bindCmpOptionsDir.value:this.config={}}},{key:"clear",value:function(){null!=this.view&&this.view.$destroy(),this.config=null}},{key:"render",value:function(){var t=this.$binding.compute();null!=t&&(this.view=this.$binding.scope.$createChildCmp(t),this.config&&this.config.onInit(this.view),this.view.$mount(this.$htmlElement),null!=this.nameDir&&this.nameDir.setCmp(this.view))}}])&&sr(n.prototype,i),o&&sr(n,o),e}(sn));function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function yr(t,e){return!e||"object"!==hr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mr(t){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dr(t,e){return(dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var br;Mn({namespace:"sine",selector:"n-bind-cmp-options"})(fr=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=yr(this,mr(e).call(this))).value=null,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dr(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.updateOptions()}},{key:"onUpdate",value:function(){this.clearOptions()}},{key:"onDestroy",value:function(){this.clear()}},{key:"updateOptions",value:function(){this.value=this.$binding.compute()}},{key:"clearOptions",value:function(){this.value=null}}])&&pr(n.prototype,i),o&&pr(n,o),e}(sn));function vr(t){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wr(t,e){return!e||"object"!==vr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $r(t,e){return($r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xr,Or=/\b(transform|all)(,|$)/;On({namespace:"sine",selector:"$animate"})(br=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),wr(this,kr(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$r(t,e)}(e,t),n=e,(i=[{key:"enter",value:function(t,e){var n=t.htmlElement;if(C(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb()),!C(n._enterCb)&&1===n.nodeType){var i=this.resolveAnimationContext(t);if(!i)return e();var o=this.resolveAnimation(i),r=this,u=o.type,s=o.enterClass,c=o.enterToClass,a=o.enterActiveClass,l=o.duration,f=F(k(l)?l.enter:l),h=n._enterCb=r.once((function(){r.removeAnimationClass(n,c),r.removeAnimationClass(n,a),h.cancelled?(r.removeAnimationClass(n,s),i.enterCancelled&&i.enterCancelled(n)):i.afterEnter&&i.afterEnter(n),n._enterCb=null}));i.beforeEnter&&i.beforeEnter(n),r.addAnimationClass(n,s),r.addAnimationClass(n,a),r.nextFrame((function(){r.removeAnimationClass(n,s),h.cancelled||(r.addAnimationClass(n,c),r.isValidDuration(f)?setTimeout(h,f):r.whenAnimationEnds(n,u,h))})),e(),i.enter&&i.enter(n,h)}}},{key:"leave",value:function(t,e){var n=t.htmlElement;C(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=this.resolveAnimationContext(t);if(!i||1!==n.nodeType)return e();if(!C(n._leaveCb)){var o=this.resolveAnimation(i),r=this,u=o.type,s=o.leaveClass,c=o.leaveToClass,a=o.leaveActiveClass,l=o.duration,f=F(k(l)?l.leave:l),h=n._leaveCb=r.once((function(){r.removeAnimationClass(n,c),r.removeAnimationClass(n,a),h.cancelled?(r.removeAnimationClass(n,s),i.leaveCancelled&&i.leaveCancelled(n)):(e(),i.afterLeave&&i.afterLeave(n)),n._leaveCb=null}));i.delayLeave?i.delayLeave(p):p()}function p(){h.cancelled||(i.beforeLeave&&i.beforeLeave(n),r.addAnimationClass(n,s),r.addAnimationClass(n,a),r.nextFrame((function(){r.removeAnimationClass(n,s),h.cancelled||(r.addAnimationClass(n,c),r.isValidDuration(f)?setTimeout(h,f):r.whenAnimationEnds(n,u,h))})),i.leave&&i.leave(n,h))}}},{key:"resolveAnimation",value:function(t){var e={};return!1!==t.css&&l(e,this.autoCssAnimation(t.name||"n")),l(e,t),e}},{key:"autoCssAnimation",value:function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}},{key:"once",value:function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}},{key:"nextFrame",value:function(t){requestAnimationFrame((function(){requestAnimationFrame(t)}))}},{key:"addAnimationClass",value:function(t,e){var n=t._animationClasses||(t._animationClasses=[]);n.indexOf(e)<0&&(n.push(e),X(t,e))}},{key:"removeAnimationClass",value:function(t,e){t._animationClasses&&U(t._animationClasses,e),J(t,e)}},{key:"whenAnimationEnds",value:function(t,e,n){var i=this.getAnimationInfo(t,e),o=i.type,r=i.timeout,u=i.propCount;if(!o)return n();var s="transition"===o?"transitionend":"animationend",c=0,a=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++c>=u&&a()};setTimeout((function(){c<u&&a()}),r+1),t.addEventListener(s,l)}},{key:"getAnimationInfo",value:function(t,e){var n,i=window.getComputedStyle(t),o=i.transitionDelay.split(", "),r=i.transitionDuration.split(", "),u=this.getTimeout(o,r),s=i.animationDelay.split(", "),c=i.animationDuration.split(", "),a=this.getTimeout(s,c),l=0,f=0;return"transition"===e?u>0&&(n="transition",l=u,f=r.length):"animation"===e?a>0&&(n="animation",l=a,f=c.length):f=(n=(l=Math.max(u,a))>0?u>a?"transition":"animation":null)?"transition"===n?r.length:c.length:0,{type:n,timeout:l,propCount:f,hasTransform:"transition"===n&&Or.test(i.transitionProperty)}}},{key:"getTimeout",value:function(t,e){for(var n=this;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,i){return n.toMs(e)+n.toMs(t[i])})))}},{key:"toMs",value:function(t){return 1e3*Number(t.slice(0,-1))}},{key:"isValidDuration",value:function(t){return"number"==typeof t&&!isNaN(t)}},{key:"resolveAnimationContext",value:function(t){var e=t.getDirectives().filter((function(t){return t.animation=!0}));return e.length?e[0]:null}}])&&gr(n.prototype,i),o&&gr(n,o),e}(hn));function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Sr(t,e){return!e||"object"!==Er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _r(t,e){return(_r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pr=Mn({namespace:"sine",selector:"animation"})(xr=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Sr(this,jr(e).call(this))).animation=!0,t.name="",t.type="",t.css=!0,t.$priority=-100,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_r(t,e)}(e,t),n=e,(i=[{key:"nextFrame",value:function(t){requestAnimationFrame((function(){requestAnimationFrame(t)}))}}])&&Cr(n.prototype,i),o&&Cr(n,o),e}(sn))||xr;function Tr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ar,Dr=function t(e,n,i,o){Nr(this,t),this.route=e,this.matched=n,this.remaining=i,this.parameters=o},Ir=function(){function t(e,n){Nr(this,t),this.root="/",this.mode="history",this.routes=e,this.activeRoutes=[],this.routeChange=new st,this.config(n)}var e,n,i;return e=t,(n=[{key:"config",value:function(t){return this.mode=t&&t.mode&&"history"===t.mode&&history.pushState?"history":"hash",this.root=t&&t.root?"/"+this.clearSlashes(t.root)+"/":"/",this}},{key:"getFragment",value:function(){var t="";if("history"===this.mode)t=(t=this.clearSlashes(decodeURI(location.pathname+location.search))).replace(/\?(.*)$/,""),t="/"!==this.root?t.replace(this.root,""):t;else{var e=window.location.href.match(/#(.*)$/);t=e?e[1]:""}return this.clearSlashes(t)}},{key:"clearSlashes",value:function(t){return t.toString().replace(/\/$/,"").replace(/^\//,"")}},{key:"add",value:function(t){this.routes.push(t)}},{key:"remove",value:function(t){U(this.routes,t)}},{key:"flush",value:function(){return this.routes=[],this.mode=null,this.root="/",this}},{key:"check",value:function(t){var e=t||this.getFragment(),n=[];this.matchRoute(this.routes,e,n),this.activeRoutes=n,this.routeChange.fire()}},{key:"matchRoute",value:function(t,e,n){if(t){var i=this;t.some((function(t){var o=i.matchPath(t,e);if(o){if(i.activeRoutes.length>0){var r=i.activeRoutes.shift();r.matched===o.matched?n.push(r):n.push(o)}else n.push(o);return i.matchRoute(t.children,o.remaining,n),!0}}))}}},{key:"matchPath",value:function(t,e){for(var n=[],i={},o=t.path.split("/"),r=e.split("/"),u=0;u<o.length;u++){var s=o[u];if(u>=r.length)return null;var c=r[u];if(s===c)n.push(c);else{if(!s.startsWith(":"))return null;n.push(c),i[s.substring(1)]=c}}return new Dr(t,n.join("/"),r.splice(o.length).join("/"),i)}},{key:"listen",value:function(){var t=this,e=t.getFragment();return t.check(e),clearInterval(this.interval),this.interval=setInterval((function(){e!==t.getFragment()&&(e=t.getFragment(),t.check(e))}),50),this}},{key:"navigate",value:function(t){return t=t||"","history"===this.mode?history.pushState(null,null,this.root+this.clearSlashes(t)):window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+t,this}},{key:"stop",value:function(){clearInterval(this.interval)}}])&&Tr(e.prototype,n),i&&Tr(e,i),t}();function Mr(t){return function(e){var n=t.selector||e.name;pt.registerConstructor(ft.component,n,e,t)}}function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lr(t){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ur(t,e){return(Ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qr;Mr({namespace:"sine.router",selector:"router-view",inject:{$animate:"$animate"}})(Ar=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=function(t,e){return!e||"object"!==Vr(e)&&"function"!=typeof e?Fr(t):e}(this,Lr(e).call(this));var n=Fr(t);return t.router=null,t.activeCmp=null,t.activeRoute=null,t.activeRouteLevel=null,t.parentRoute=null,t.routes=[],t.onRouteChange=function(){n.UpdateRoute()},t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ur(t,e)}(e,t),n=e,(i=[{key:"init",value:function(){this.router=this.$$parentComponent&&this.$$parentComponent.$router,this.parentRoute=this.$$parentComponent&&this.$$parentComponent.$route,this.activeRouteLevel=this.$$parentComponent&&this.$$parentComponent.$routeLevel,this.router&&(this.parentRoute?this.routes=this.parentRoute.route.children:(this.activeRouteLevel=0,this.routes=this.router.routes,this.router.listen()),this.router.routeChange.on(this.onRouteChange),this.UpdateRoute())}},{key:"UpdateRoute",value:function(){if(this.activeRouteLevel>=this.router.activeRoutes.length)this.activeRoute=null;else{var t=this.router.activeRoutes[this.activeRouteLevel];if(this.activeRoute!==t){var e=this.routes.some((function(e){return t.route===e}));this.activeRoute=e?t:null,this.renderView()}}}},{key:"clearView",value:function(){var t=this;null!=this.activeCmp&&this.$animate.leave(this.$$element,(function(){t.activeCmp.$destroy(),t.activeCmp=null}))}},{key:"renderView",value:function(){var t=this;this.clearView(),this.activeCmp=this.$createChildCmp(this.activeRoute.route.component),this.activeCmp.$router=this.router,this.activeCmp.$route=this.activeRoute,this.activeCmp.$routeLevel=this.activeRouteLevel+1,this.$$element.htmlElement.style.display="none",this.activeCmp.$mount(this.$$element.htmlElement),this.$animate.enter(this.$$element,(function(){t.$$element.htmlElement.style.display="block"}))}},{key:"afterViewMount",value:function(){this.init()}},{key:"onDestroy",value:function(){0===this.activeRouteLevel?this.router.stop():this.router.routeChange.off(this.onRouteChange),this.clearView()}}])&&Rr(n.prototype,i),o&&Rr(n,o),e}(on));function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Br(t,e){return!e||"object"!==Hr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yr;Mn({namespace:"sine.ui",selector:"n-validate"})(qr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Br(this,Kr(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zr(t,e)}(e,t),n=e,(i=[{key:"onCompile",value:function(){var t=this,e=this.$element.getDirective("n-model");if(!e)throw new Error('Require "n-model"');e.$validators.push((function(n){var i=t.$binding.compute();if(null!=i)var o=i.call(t,n);null!=o?e.setValidity(o.valid,o.feedback):e.setValidity(!0,null)}))}}])&&Wr(n.prototype,i),o&&Wr(n,o),e}(sn));function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xr(t,e){return!e||"object"!==Zr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jr(t){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qr(t,e){return(Qr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tu;Mn({namespace:"sine.ui",selector:"animation-collapse"})(Yr=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Xr(this,Jr(e).call(this))).initialDisplay="",t.initialHeight="",t.clientHeight=0,t.duration=4e3,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qr(t,e)}(e,t),n=e,(i=[{key:"onInsert",value:function(){this.initialDisplay=this.$htmlElement.style.display,this.initialHeight=this.$htmlElement.style.height}},{key:"beforeEnter",value:function(){this.$htmlElement.style.height="1px",this.$htmlElement.style.transition="height "+this.duration+"ms"}},{key:"enter",value:function(){var t=this;this.nextFrame((function(){t.initialHeight?t.$htmlElement.style.height=t.initialHeight:t.clientHeight?t.$htmlElement.style.height=t.clientHeight+"px":t.$htmlElement.style.height="initial"}))}},{key:"afterEnter",value:function(){this.initialHeight||(this.$htmlElement.style.height="initial")}},{key:"beforeLeave",value:function(){this.clientHeight=this.$htmlElement.clientHeight,this.$htmlElement.style.height=this.clientHeight+"px"}},{key:"leave",value:function(){var t=this;this.nextFrame((function(){t.$htmlElement.style.height="0px"}))}},{key:"afterLeave",value:function(){this.$htmlElement.style.height=this.initialHeight}}])&&Gr(n.prototype,i),o&&Gr(n,o),e}(Pr));function eu(t){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function iu(t,e){return!e||"object"!==eu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ou(t){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ru(t,e){return(ru=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var uu;Mn({namespace:"sine.ui",selector:"animation-modal"})(tu=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=iu(this,ou(e).call(this))).backdrop=null,t.left=new st,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ru(t,e)}(e,t),n=e,(i=[{key:"createBackdrop",value:function(){this.backdrop=document.createElement("div"),this.backdrop.classList.add("modal-backdrop"),this.backdrop.classList.add("fade")}},{key:"removeModal",value:function(){document.body.classList.remove("modal-open"),null!=this.backdrop.parentNode&&document.body.removeChild(this.backdrop)}},{key:"onInsert",value:function(){this.initialDisplay=this.$htmlElement.style.display,this.initialHeight=this.$htmlElement.style.height}},{key:"beforeEnter",value:function(){this.createBackdrop(),this.$htmlElement.style.display="block",document.body.classList.add("modal-open"),document.body.appendChild(this.backdrop)}},{key:"enter",value:function(){var t=this;this.nextFrame((function(){t.$htmlElement.classList.add("show"),t.backdrop.classList.add("show")}))}},{key:"beforeLeave",value:function(){this.$htmlElement.classList.remove("show"),this.backdrop.classList.remove("show")}},{key:"afterLeave",value:function(){this.removeModal(),this.left.fire()}}])&&nu(n.prototype,i),o&&nu(n,o),e}(Pr));function su(t){return(su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function au(t,e){return!e||"object"!==su(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lu(t){return(lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fu(t,e){return(fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hu;Mr({namespace:"sine.ui",selector:"n-form",template:'<div class="accordion">\r\n    <div class="card" *n-repeat="group in config.groups">\r\n        <div class="card-header" @click="toggle(group)" *n-bind="group.title"></div>\r\n\r\n        <div class="collapse show" *n-hide="group.collapsed" *animation-collapse>\r\n            <div class="card-body">\r\n                <div class="form-group" *n-repeat="item in group.items">\r\n                    <label :for="item.field" class="col-form-label-sm" *n-bind="item.label"></label>\r\n                    <input :type="item.type" class="form-control form-control-sm {{ isValid(item)?\'is-valid\':\'is-invalid\' }}" :name="item.field" *n-model="entity[item.field]" *n-validate="item.validator">\r\n                    <small class="form-text text-muted" *n-show="item.help && !getFeedback(item)" *n-bind="item.help"></small>\r\n                    <div class="{{ isValid(item)?\'valid-feedback\':\'invalid-feedback\'}}" *n-bind="getFeedback(item)" *n-show="getFeedback(item)"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'})(uu=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=au(this,lu(e).call(this))).entity=null,t.config={groups:[],validator:{}},t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fu(t,e)}(e,t),n=e,(i=[{key:"toggle",value:function(t){t.toProxy().collapsed=!t.collapsed}},{key:"isValid",value:function(t){return null==this[t.field]||this[t.field].$valid}},{key:"getFeedback",value:function(t){return null!=this[t.field]?this[t.field].$feedback:null}}])&&cu(n.prototype,i),o&&cu(n,o),e}(on));function pu(t){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mu(t){return(mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function du(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bu(t,e){return(bu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vu,gu=Mr({namespace:"sine.ui",selector:"n-modal",template:'<div class="modal fade" tabindex="-1" *n-show="visible" *animation-modal *n-name="rootElement">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content" *n-bind-cmp="currentCmp" *n-bind-cmp-options="cmpConfig">\r\n            \x3c!--<div class="modal-header">--\x3e\r\n                \x3c!--<h5 class="modal-title">Modal Title</h5>--\x3e\r\n                \x3c!--<button type="button" class="close">--\x3e\r\n                    \x3c!--<span>&times;</span>--\x3e\r\n                \x3c!--</button>--\x3e\r\n            \x3c!--</div>--\x3e\r\n\r\n            \x3c!--<div class="modal-body">--\x3e\r\n                \x3c!--...--\x3e\r\n            \x3c!--</div>--\x3e\r\n\r\n            \x3c!--<div class="modal-footer">--\x3e\r\n                \x3c!--<button type="button" class="btn btn-primary">Save changes</button>--\x3e\r\n            \x3c!--</div>--\x3e\r\n        </div>\r\n    </div>\r\n</div>'})(hu=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=function(t,e){return!e||"object"!==pu(e)&&"function"!=typeof e?du(t):e}(this,mu(e).call(this));var n=du(t);return t.visible=!1,t.currentCmp=null,t.cmpConfig={onInit:function(t){t.$close=function(){n.close()}}},t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bu(t,e)}(e,t),n=e,(i=[{key:"onDestroy",value:function(){}},{key:"show",value:function(t){this.visible=!0,this.currentCmp=t,this.$mount(document.body,{append:!0})}},{key:"close",value:function(){var t=this,e=this.rootElement.getDirective("animation-modal");this.$proxy.visible=!1,e.left.on((function(){t.$destroy()}))}}])&&yu(n.prototype,i),o&&yu(n,o),e}(on))||hu;function wu(t){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ku(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $u(t,e){return!e||"object"!==wu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xu(t){return(xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ou(t,e){return(Ou=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Eu;On({namespace:"sine.ui",selector:"modalService"})(vu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),$u(this,xu(e).call(this))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ou(t,e)}(e,t),n=e,(i=[{key:"show",value:function(t){(new gu).show(t)}}])&&ku(n.prototype,i),o&&ku(n,o),e}(hn));function Cu(t){return(Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Su(t,e){return!e||"object"!==Cu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ju(t){return(ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Pu(t,e,n){return e&&_u(t.prototype,e),n&&_u(t,n),t}function Tu(t,e){return(Tu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nu;Mr({namespace:"sine.ui",selector:"n-progress",template:'<div class="progress" *n-style="css">\r\n    <div class="progress-bar" *n-style="barCss" *n-bind="label"></div>\r\n</div>'})(Eu=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Su(this,ju(e).call(this))).value=0,t.maxValue=100,t.css={},t.barCss={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tu(t,e)}(e,t),Pu(e,[{key:"percent",get:function(){return Math.round(100*this.value/this.maxValue,2)}},{key:"label",get:function(){return this.percent+"%"}}]),Pu(e,[{key:"afterAttrChange",value:function(t,e){"value"===t&&(this.barCss.toProxy().width=this.percent+"%")}},{key:"onDestroy",value:function(){}}]),e}(on));function Au(t){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Du(t,e){return!e||"object"!==Au(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Iu(t){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mu(t,e){return(Mu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vu,Ru,Lu,Fu;Mr({namespace:"sine.ui",selector:"n-nav-bar",template:'<nav class="navbar navbar-expand-lg navbar-light bg-light">\r\n    <a class="navbar-brand" href="#">Sine</a>\r\n\r\n    <div class="collapse navbar-collapse">\r\n        <ul class="navbar-nav">\r\n            <li class="nav-item active">\r\n                <a class="nav-link" href="#">Home</a>\r\n            </li>\r\n\r\n            <li class="nav-item">\r\n                <a class="nav-link" href="#">Features</a>\r\n            </li>\r\n\r\n            <li class="nav-item">\r\n                <a class="nav-link disable" href="#">Disabled</a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</nav>'})(Nu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Du(this,Iu(e).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mu(t,e)}(e,t),e}(on));function Uu(t){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(t,e){return!e||"object"!==Uu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wu(t){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ku(t,e)}function Ku(t,e){return(Ku=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zu,Yu=Mr({namespace:"sine.home",selector:"app1",template:'<div style="width: 100px;height:100px;border:solid red 1px">app1<input type="text"></div><router-view *animation-collapse style="display:block;" ></router-view>'})(Vu=function(t){function e(){return qu(this,e),Hu(this,Wu(e).call(this))}return Bu(e,t),e}(on))||Vu,Zu=Mr({namespace:"sine.home",selector:"app2",template:'<div style="width: 100px;height:100px;border:solid red 1px">app2</div>'})(Ru=function(t){function e(){return qu(this,e),Hu(this,Wu(e).call(this))}return Bu(e,t),e}(on))||Ru,Gu=[{path:"app1",component:Yu,children:[{path:"detail1",component:Mr({namespace:"sine.home",selector:"detail1",template:'<div style="width: 100px;height:100px;border:solid red 1px">detail1</div>'})(Lu=function(t){function e(){return qu(this,e),Hu(this,Wu(e).call(this))}return Bu(e,t),e}(on))||Lu},{path:"detail2",component:Mr({namespace:"sine.home",selector:"detail2",template:'<div style="width: 100px;height:100px;border:solid red 1px">detail2</div>'})(Fu=function(t){function e(){return qu(this,e),Hu(this,Wu(e).call(this))}return Bu(e,t),e}(on))||Fu}]},{path:"app2",component:Zu}];function Xu(t){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ju(t,e){return!e||"object"!==Xu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qu(t){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ts(t,e){return(ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Mr({namespace:"sine.home",selector:"app",template:'<n-nav-bar></n-nav-bar>\r\n\r\n<router-view></router-view>\r\n\r\n\r\n<a href="#/app1">app1</a>\r\n<a href="#/app2">app2</a>\r\n<a href="#/app1/detail1">detail1</a>\r\n<a href="#/app1/detail2">detail2</a>'})(zu=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ju(this,Qu(e).call(this))).$router=new Ir(Gu,{root:location.host+location.path}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ts(t,e)}(e,t),e}(on)),n(0),n(1);n.d(e,"forEach",(function(){return s})),n.d(e,"some",(function(){return c})),n.d(e,"copy",(function(){return a})),n.d(e,"extend",(function(){return l})),n.d(e,"merge",(function(){return f})),n.d(e,"object",(function(){return y})),n.d(e,"inherit",(function(){return m})),n.d(e,"lowercase",(function(){return d})),n.d(e,"uppercase",(function(){return b})),n.d(e,"isUndefined",(function(){return v})),n.d(e,"isDefined",(function(){return g})),n.d(e,"isObject",(function(){return k})),n.d(e,"isBlankObject",(function(){return $})),n.d(e,"isNumber",(function(){return O})),n.d(e,"isDate",(function(){return E})),n.d(e,"isFunction",(function(){return C})),n.d(e,"isRegExp",(function(){return S})),n.d(e,"isBoolean",(function(){return j})),n.d(e,"isArray",(function(){return w})),n.d(e,"isString",(function(){return x})),n.d(e,"isSame",(function(){return P})),n.d(e,"isFormData",(function(){return _})),n.d(e,"debug",(function(){return T})),n.d(e,"contains",(function(){return N})),n.d(e,"containsStr",(function(){return A})),n.d(e,"hasProperty",(function(){return D})),n.d(e,"getProperty",(function(){return I})),n.d(e,"setProperty",(function(){return M})),n.d(e,"concat",(function(){return V})),n.d(e,"orderBy",(function(){return R})),n.d(e,"orderByDescending",(function(){return L})),n.d(e,"toNumber",(function(){return F})),n.d(e,"remove",(function(){return U})),n.d(e,"getChildNodes",(function(){return q})),n.d(e,"clearChildNodes",(function(){return H})),n.d(e,"replaceNode",(function(){return W})),n.d(e,"removeNode",(function(){return B})),n.d(e,"removeNodeBetween",(function(){return K})),n.d(e,"insertNodeAfter",(function(){return z})),n.d(e,"queryElementLoaded",(function(){return Y})),n.d(e,"queryElementUnloaded",(function(){return Z})),n.d(e,"queryElementState",(function(){return G})),n.d(e,"addClass",(function(){return X})),n.d(e,"removeClass",(function(){return J})),n.d(e,"httpGet",(function(){return nt})),n.d(e,"httpPost",(function(){return it})),n.d(e,"Messenger",(function(){return st})),n.d(e,"MessengerBus",(function(){return ct})),n.d(e,"isMessenger",(function(){return at})),n.d(e,"namespace",(function(){return pn})),n.d(e,"injector",(function(){return pt})),n.d(e,"component",(function(){return yn})),n.d(e,"directive",(function(){return mn})),n.d(e,"filter",(function(){return dn})),n.d(e,"service",(function(){return bn})),n.d(e,"isComponent",(function(){return vn})),n.d(e,"isDirective",(function(){return gn})),n.d(e,"isFilter",(function(){return wn})),n.d(e,"isService",(function(){return kn})),n.d(e,"bootstrap",(function(){return $n})),n.d(e,"compile",(function(){return Ue})),n.d(e,"compute",(function(){return qe})),n.d(e,"parse",(function(){return Fe})),n.d(e,"parseExp",(function(){return He})),n.d(e,"parseAssignment",(function(){return We})),n.d(e,"ClassDirective",(function(){return Ti})),n.d(e,"StyleDirective",(function(){return Gi})),n.d(e,"Animation",(function(){return Pr})),n.d(e,"Router",(function(){return Ir})),n.d(e,"ModalComponent",(function(){return gu}))}])}));